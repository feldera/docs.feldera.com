<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-sql/grammar" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">SQL Grammar | Feldera Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.feldera.com/sql/grammar"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SQL Grammar | Feldera Documentation"><meta data-rh="true" name="description" content="This is a short formal description of the grammar supported in a BNF"><meta data-rh="true" property="og:description" content="This is a short formal description of the grammar supported in a BNF"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.feldera.com/sql/grammar"><link data-rh="true" rel="alternate" href="https://docs.feldera.com/sql/grammar" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.feldera.com/sql/grammar" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WX24466N8W-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Pipelines","item":"https://docs.feldera.com/pipelines/"},{"@type":"ListItem","position":2,"name":"Feldera SQL","item":"https://docs.feldera.com/sql/"},{"@type":"ListItem","position":3,"name":"SQL Grammar","item":"https://docs.feldera.com/sql/grammar"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Feldera Documentation" href="/opensearch.xml">


<link rel="preconnect" href="https://us.i.posthog.com">
<script>!function(t,e){var o,s,r,a;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,n,p){function c(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(r=t.createElement("script")).type="text/javascript",r.async=!0,r.src=n.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,a);var g=e;for(void 0!==p?g=e[p]=[]:p="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==p&&(e+="."+p),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),s=0;s<o.length;s++)c(g,o[s]);e._i.push([i,n,p])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_GKR68l5zo531AD1R3cnE3MCPEBPXTqgYax4q053LVBD",{api_host:"https://us.i.posthog.com",id:"default"})</script><link rel="stylesheet" href="/assets/css/styles.6b0c5225.css">
<script src="/assets/js/runtime~main.60b64e79.js" defer="defer"></script>
<script src="/assets/js/main.4caea19a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.feldera.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo-color-dark.svg" alt="Feldera Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-color-light.svg" alt="Feldera Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/get-started">Get Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/sql">SQL Reference</a><a class="navbar__item navbar__link" href="/connectors">Connectors</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://join.slack.com/t/felderacommunity/shared_invite/zt-222bq930h-dgsu5IEzAihHg8nQt~dHzA" target="_blank" rel="noopener noreferrer" class="dropdown__link">Slack<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://discord.com/invite/s6t5n9UzHE" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/feldera/feldera" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">What is Feldera?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/architecture/enterprise">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/get-started/">Install Feldera</a><button aria-label="Expand sidebar category &#x27;Install Feldera&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tutorials/">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/interface/">Feldera Interface</a><button aria-label="Collapse sidebar category &#x27;Feldera Interface&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interface/web-console">Web Console</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interface/cli">Command line tool (fda)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="/python/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Python SDK<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="/api" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">REST API<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/pipelines/">Pipelines</a><button aria-label="Collapse sidebar category &#x27;Pipelines&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/sql/">Feldera SQL</a><button aria-label="Collapse sidebar category &#x27;Feldera SQL&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sql/grammar">SQL Grammar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sql/identifiers">Identifiers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sql/types">Data Types</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/sql/aggregates">Operations</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sql/materialized">Materialized Tables and Views</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sql/recursion">Mutually-Recursive Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sql/ad-hoc">Ad-hoc SQL Queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sql/streaming">Time-Series Extensions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sql/system">System Views</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/sql/udf">User-Defined Functions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/connectors/">Connectors</a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/formats/">Formats</a><button aria-label="Expand sidebar category &#x27;Formats&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/configuration">Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/fault-tolerance">Fault tolerance and suspend/resume</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/checkpoint-sync">Synchronizing checkpoints to object store</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/operations/guide">Feldera Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/literature/papers">Literature</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/changelog">Changelog</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pipelines/"><span>Pipelines</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/sql/"><span>Feldera SQL</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">SQL Grammar</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SQL Grammar</h1></header>
<p>This is a short formal description of the grammar supported in a BNF
form.</p>
<ul>
<li>Constructs enclosed between <code>[]</code> are optional.</li>
<li><code>*</code> denotes zero or many repetitions.</li>
<li>Uppercase words (<code>FUNCTION</code>) and single-quoted text (<code>&#x27;)&#x27;</code>) indicate
grammar terminals.</li>
<li>Parentheses <code>()</code> are used for grouping productions together.</li>
<li>The vertical bar <code>|</code> indicates choice between two constructs.</li>
</ul>
<p>SQL reserved keywords cannot be used as table and view names.  In
addition, the following keywords are reserved: <code>USER</code>, <code>NOW</code>.  All
identifiers starting with &quot;Feldera&quot; are also reserved (in all case
combinations).</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">statementList:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      statement [ &#x27;;&#x27; statement ]* [ &#x27;;&#x27; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">statement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   createTableStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   declareRecursiveViewStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   createViewStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   createFunctionStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   createTypeStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   createIndexStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   latenessStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">columnDecl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   column generalType [ INTERNED ]</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-user-defined-types">Creating user-defined types<a href="#creating-user-defined-types" class="hash-link" aria-label="Direct link to Creating user-defined types" title="Direct link to Creating user-defined types">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">generalType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   type [NOT NULL]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">createTypeStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   CREATE TYPE name AS &#x27;(&#x27; typedef &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">typedef</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  : generalType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | name generalType [, name type ]*</span><br></span></code></pre></div></div>
<p>See <a href="/sql/types#user-defined-types">user-defined types</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-tables">Creating tables<a href="#creating-tables" class="hash-link" aria-label="Direct link to Creating tables" title="Direct link to Creating tables">​</a></h2>
<a id="default"></a>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">createTableStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   CREATE TABLE name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;(&#x27; tableElement [, tableElement ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ &#x27;WITH&#x27; keyValueList ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tableElement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   columnName generalType ( columnConstraint )*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   columnName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   tableConstraint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">columnConstraint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   PRIMARY KEY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   FOREIGN KEY REFERENCES identifier &#x27;(&#x27; identifier &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   LATENESS expression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   WATERMARK expression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   DEFAULT expression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   INTERNED</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tableConstraint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   [ CONSTRAINT name ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          CHECK &#x27;(&#x27; expression &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      |   PRIMARY KEY parensColumnList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   FOREIGN KEY parensColumnList REFERENCES identifier parensColumnList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parensColumnList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   &#x27;(&#x27; columnName [, columnName ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">keyValueList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  : &#x27;(&#x27; keyValue ( &#x27;,&#x27; keyValue )* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">keyValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  : stringLiteral &#x27;=&#x27; stringLiteral</span><br></span></code></pre></div></div>
<p>Columns that are part of a <code>PRIMARY KEY</code> cannot have nullable types.</p>
<p>Columns that are part of a <code>FOREIGN KEY</code> must refer to <code>PRIMARY KEY</code>
columns in some table.  Their types must must match (but <code>FOREIGN KEY</code>
columns may be nullable).</p>
<p><code>CREATE TABLE</code> is used to declare tables.  Tables correspond to input
data sources.  A table declaration must list the table columns and
their types.  Here is an example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> empsalary </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depname </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">null</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRIMARY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    empno </span><span class="token keyword" style="color:#00009f">bigint</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FOREIGN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">KEY</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">REFERENCES</span><span class="token plain"> employee</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">empid</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salary </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    enroll_date </span><span class="token keyword" style="color:#00009f">date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>A table declaration can have an optional <code>WITH</code> clause which is used
to specify properties of the connector that provides the source data.
The properties are specified as key-value pairs, each written as a
string.  Here is an example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">TABLE</span><span class="token plain"> empsalary </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    depname </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    empno </span><span class="token keyword" style="color:#00009f">bigint</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salary </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    enroll_date </span><span class="token keyword" style="color:#00009f">date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;source&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;kafka&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;url&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;127.0.0.1:8080&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="table-properties-that-impact-the-program-semantics">Table properties that impact the program semantics<a href="#table-properties-that-impact-the-program-semantics" class="hash-link" aria-label="Direct link to Table properties that impact the program semantics" title="Direct link to Table properties that impact the program semantics">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="materialized-tables">Materialized tables<a href="#materialized-tables" class="hash-link" aria-label="Direct link to Materialized tables" title="Direct link to Materialized tables">​</a></h4>
<p>Unlike a database, Feldera does not normally maintain the contents of
tables; it will only store as much data as necessary to compute future
outputs.  By specifying the property <code>&#x27;materialized&#x27; = &#x27;true&#x27;</code> a user
instructs Feldera to also maintain the complete contents of the table.
Such materialized tables can be browsed and queried at runtime.
See <a href="/sql/materialized">Materialized Tables and Views</a> for more details.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="interned-strings">Interned strings<a href="#interned-strings" class="hash-link" aria-label="Direct link to Interned strings" title="Direct link to Interned strings">​</a></h4>
<p>The <code>INTERNED</code> annotation can be added to a column with type <code>VARCHAR</code>
or <code>CHAR</code> (and other equivalent type aliases, such as <code>STRING</code> and
<code>TEXT</code>), and is a hint to the compiler to use an interned
implementation for these strings (currently this annotation is ignored
on other column types).  Interned strings keep a single copy of each
string and replace such strings with a cryptographic hash function of
the string value.  This works well if strings are only used for
equality comparisons; when interned strings participate in other
computations, or before being emitted to the output, they are
converted back to their original values.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="append-only-tables">Append-only tables<a href="#append-only-tables" class="hash-link" aria-label="Direct link to Append-only tables" title="Direct link to Append-only tables">​</a></h4>
<p>The <code>append_only</code> Boolean property describes tables that only support
insertions.  Updates or deletes are not allowed in such tables.</p>
<p>See <a href="/sql/streaming#append_only-tables">Streaming SQL Extensions, append-only
tables</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="size-hints">Size hints<a href="#size-hints" class="hash-link" aria-label="Direct link to Size hints" title="Direct link to Size hints">​</a></h4>
<p>The property <code>expected_size</code> can be used to pass information to the
SQL compiler about the expected size of a table in steady state
operation.  The value of this property should be an integer value.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lateness">LATENESS<a href="#lateness" class="hash-link" aria-label="Direct link to LATENESS" title="Direct link to LATENESS">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">latenessStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   LATENESS view &#x27;.&#x27; column expression</span><br></span></code></pre></div></div>
<p>See <a href="/sql/streaming#lateness-expressions">Streaming SQL Extensions, LATENESS</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="watermarks">WATERMARKS<a href="#watermarks" class="hash-link" aria-label="Direct link to WATERMARKS" title="Direct link to WATERMARKS">​</a></h3>
<p>See <a href="/sql/streaming#watermark-expressions">Streaming SQL Extensions, WATERMARKS</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-user-defined-functions">Creating user-defined functions.<a href="#creating-user-defined-functions" class="hash-link" aria-label="Direct link to Creating user-defined functions." title="Direct link to Creating user-defined functions.">​</a></h2>
<p><code>CREATE FUNCTION</code> is used to declare <a href="/sql/udf">user-defined functions</a>.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">createFunctionStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   CREATE FUNCTION name &#x27;(&#x27; [ columnDecl [, columnDecl ]* ] &#x27;)&#x27; RETURNS generalType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ AS expression ]</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-views">Creating views<a href="#creating-views" class="hash-link" aria-label="Direct link to Creating views" title="Direct link to Creating views">​</a></h2>
<p><code>CREATE VIEW</code> is used to declare a view.  The optional <code>LOCAL</code>
keyword can be used to indicate that the declared view is not exposed
to the outside world as an output of the computation.  This is useful
for modularizing the SQL code, by declaring intermediate views that
are used in the implementation of other views.
The <code>MATERIALIZED</code> keyword instructs Feldera to maintain a full copy
of the view&#x27;s output in addition to producing the
stream of changes.
Such materialized views can be browsed and queried at runtime.
See <a href="/sql/materialized">Materialized Tables and Views</a> for more details.</p>
<p><code>DECLARE RECURSIVE VIEW</code> is used to declare a view that can afterwards
be used in a recursive SQL query.  The syntax of this statement is
reminiscent of a table declaration, without constraints.  Recursive
queries are documented in <a href="/sql/recursion">this section</a>.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">declareRecursiveViewStatement:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   DECLARE RECURSIVE VIEW name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;(&#x27; columnDecl [, columnDecl ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">createViewStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   CREATE [ LOCAL | MATERIALIZED ] VIEW name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ &#x27;(&#x27; columnName [, columnName ]* &#x27;)&#x27; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ &#x27;WITH&#x27; keyValueList ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      AS query</span><br></span></code></pre></div></div>
<a id="setop"></a>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">query</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   WITH withItem [ , withItem ]* query</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          select</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      |   selectWithoutFrom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      |   query UNION [ ALL | DISTINCT ] query</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      |   query EXCEPT [ ALL | DISTINCT ] query</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      |   query MINUS [ ALL | DISTINCT ] query</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      |   query INTERSECT [ ALL | DISTINCT ] query</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ ORDER BY orderItem [, orderItem ]* ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ LIMIT { count | ALL } ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withItem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ &#x27;(&#x27; column [, column ]* &#x27;)&#x27; ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      AS &#x27;(&#x27; query &#x27;)&#x27;</span><br></span></code></pre></div></div>
<a id="values"></a>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">values</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   { VALUES | VALUE } expression [, expression ]*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">select</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   SELECT [ ALL | DISTINCT ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          { * | projectItem [, projectItem ]* }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      FROM tableExpression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ WHERE booleanExpression ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ GROUP BY [ ALL | DISTINCT ] { groupItem [, groupItem ]* } ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ HAVING booleanExpression ]</span><br></span></code></pre></div></div>
<a id="lateral"></a>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tablePrimary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   tableName &#x27;(&#x27; TABLE tableName &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   tablePrimary &#x27;(&#x27; columnDecl [, columnDecl ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   [ LATERAL ] &#x27;(&#x27; query &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   UNNEST &#x27;(&#x27; expression &#x27;)&#x27; [ WITH ORDINALITY ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   TABLE &#x27;(&#x27; functionName &#x27;(&#x27; expression [, expression ]* &#x27;)&#x27; &#x27;)&#x27;</span><br></span></code></pre></div></div>
<a id="cube"></a>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">groupItem:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      expression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   &#x27;(&#x27; &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   &#x27;(&#x27; expression [, expression ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   CUBE &#x27;(&#x27; expression [, expression ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   ROLLUP &#x27;(&#x27; expression [, expression ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">selectWithoutFrom</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   SELECT [ ALL | DISTINCT ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          { * | projectItem [, projectItem ]* }</span><br></span></code></pre></div></div>
<a id="order"></a>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">orderItem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   expression [ ASC | DESC ] [ NULLS FIRST | NULLS LAST ]</span><br></span></code></pre></div></div>
<a id="as"></a>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">projectItem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   expression [ [ AS ] columnAlias ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   tableAlias . *</span><br></span></code></pre></div></div>
<a id="join"></a>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tableExpression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   tableReference [, tableReference ]*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   tableExpression [ NATURAL ] [ { LEFT | RIGHT | FULL } [ OUTER | ASOF ] ] JOIN tableExpression [ joinCondition ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   tableExpression CROSS JOIN tableExpression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   tableExpression [ CROSS | OUTER ] APPLY tableExpression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">joinCondition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   ON booleanExpression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   USING &#x27;(&#x27; column [, column ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tableReference</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   tablePrimary [ pivot ] [ [ AS ] alias [ &#x27;(&#x27; columnAlias [, columnAlias ]* &#x27;)&#x27; ] ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pivot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   PIVOT &#x27;(&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      pivotAgg [, pivotAgg ]*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      FOR pivotList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      IN &#x27;(&#x27; pivotExpr [, pivotExpr ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pivotAgg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   agg &#x27;(&#x27; [ ALL | DISTINCT ] value [, value ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ [ AS ] alias ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pivotList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   columnOrList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pivotExpr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   exprOrList [ [ AS ] alias ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">columnOrList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   column</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   &#x27;(&#x27; column [, column ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exprOrList</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   expr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   &#x27;(&#x27; expr [, expr ]* &#x27;)&#x27;</span><br></span></code></pre></div></div>
<p>Beware that in the SQL <code>UNION</code>, <code>EXCEPT</code>, and <code>INTERSECT</code> statements
the column names are <em>not</em> used to reorder columns.</p>
<p>In <code>orderItem</code>, if expression is a positive integer n, it denotes the
nth item in the <code>SELECT</code> clause.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-indexes">Creating indexes<a href="#creating-indexes" class="hash-link" aria-label="Direct link to Creating indexes" title="Direct link to Creating indexes">​</a></h2>
<p>Feldera supports the <code>CREATE INDEX</code> SQL statement with the following
syntax:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">createIndexStatement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   : CREATE INDEX identifier ON identifier(columnOrList);</span><br></span></code></pre></div></div>
<p>For the purpose of incremental view maintenance Feldera automatically
creates all required indexes by analyzing the query defining the view.
The SQL <code>CREATE INDEX</code> statement is used for a different purpose in
Feldera than in standard databases; the statement is used to specify
<em>unique keys</em> for output views.  Consider the following SQL program
fragment:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">VIEW</span><span class="token plain"> V </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">INDEX</span><span class="token plain"> v_index </span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> V</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>The <code>CREATE INDEX</code> statement creates an index named <code>v_index</code> over the
view <code>V</code>, treating column <code>id</code> as a primary key.  The index does <em>not</em>
enforce uniqueness of the unique columns at runtime.  This information
can be used by some output connectors, which can refer to <code>v_index</code> to
<a href="/connectors/unique_keys">provide more efficient updates</a>.
Indexes only have effect for views that are not <code>LOCAL</code>.</p>
<p>A view can have multiple indexes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aggregate-queries">Aggregate queries<a href="#aggregate-queries" class="hash-link" aria-label="Direct link to Aggregate queries" title="Direct link to Aggregate queries">​</a></h3>
<p>An aggregate query is a query that contains a <code>GROUP BY</code> or a <code>HAVING</code>
clause, or aggregate functions in the <code>SELECT</code> clause. In the
<code>SELECT</code>, <code>HAVING</code> and <code>ORDER</code> BY clauses of an aggregate query, all
expressions must be constant within the current group (that is,
grouping constants as defined by the <code>GROUP BY</code> clause, or constants),
or aggregate functions, or a combination of constants and aggregate
functions. Aggregate and grouping functions may only appear in an
aggregate query, and only in a <code>SELECT</code>, <code>HAVING</code> or <code>ORDER BY</code>
clause.  Aggregate functions are described in <a href="/sql/aggregates#standard-aggregate-operations">this
section</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sub-queries">Sub-queries<a href="#sub-queries" class="hash-link" aria-label="Direct link to Sub-queries" title="Direct link to Sub-queries">​</a></h2>
<p>A scalar sub-query is a sub-query used as an expression. If the
sub-query returns no rows, the value is <code>NULL</code>; if it returns more
than one row, it is an error.</p>
<p><code>IN</code>, <code>EXISTS</code>, and scalar sub-queries can occur in any place where an
expression can occur (such as the <code>SELECT</code> clause, <code>WHERE</code> clause,
<code>ON</code> clause of a <code>JOIN</code>, or as an argument to an aggregate function).</p>
<p>An <code>IN</code>, <code>EXISTS</code>, or scalar sub-query may be correlated; that is,
it may refer to tables in the <code>FROM</code> clause of an enclosing query.</p>
<p><code>GROUP BY DISTINCT</code> removes duplicate grouping sets (for example,
<code>GROUP BY DISTINCT GROUPING SETS ((a), (a, b), (a))</code> is equivalent to
<code>GROUP BY GROUPING SETS ((a), (a, b))</code>); <code>GROUP BY ALL</code> is equivalent
to <code>GROUP BY</code>.</p>
<p><code>MINUS</code> is equivalent to <code>EXCEPT</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="grouping-functions">Grouping functions<a href="#grouping-functions" class="hash-link" aria-label="Direct link to Grouping functions" title="Direct link to Grouping functions">​</a></h3>
<table><tr><th>Function</th><th>Description</th></tr><tr><td><code>GROUPING(</code>expression, [ expression ]<code>)</code></td><td>Returns a bit vector of the grouping expressions</td></tr><tr><td><code>GROUPING_ID(</code>expression, [ expression ]<code>)</code></td><td>Synonym for <code>GROUPING</code></td></tr></table>
<p>Example using <code>GROUPING</code>:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> deptno</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> job</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> grouping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">deptno</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> d</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  grouping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">job</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> j</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> grouping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">deptno</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> job</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> emp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">group</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> cube</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">deptno</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> job</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token comment" style="color:#999988;font-style:italic">--------+-----------+----+---+---+---+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> DEPTNO </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> JOB       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> C  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> D </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> J </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> X </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token comment" style="color:#999988;font-style:italic">--------+-----------+----+---+---+---+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> CLERK     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> MANAGER   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> PRESIDENT </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">           </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> ANALYST   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> CLERK     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> MANAGER   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">20</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">           </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> CLERK     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> MANAGER   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> SALESMAN  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">           </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> ANALYST   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> CLERK     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> MANAGER   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> PRESIDENT </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> SALESMAN  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">|</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">           </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">+</span><span class="token comment" style="color:#999988;font-style:italic">--------+-----------+----+---+---+---+</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="window-aggregates">Window aggregates<a href="#window-aggregates" class="hash-link" aria-label="Direct link to Window aggregates" title="Direct link to Window aggregates">​</a></h2>
<p>One type of expression that can appear in a <code>SELECT</code> statement is a
window aggregate.  The grammar for window aggregates is:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">windowedAggregateCall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  : agg &#x27;(&#x27; [ ALL | DISTINCT ] value [, value ]* &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ RESPECT NULLS | IGNORE NULLS ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OVER windowSpec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | agg &#x27;(&#x27; &#x27;*&#x27; &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      OVER windowSpec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">windowSpec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   &#x27;(&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ windowName ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      PARTITION BY expression [, expression ]*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [ ORDER BY orderItem [, orderItem ]* ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          RANGE BETWEEN windowRange AND windowRange</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">windowRange</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  :   CURRENT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   ( UNBOUNDED | expression ) ( PRECEDING | FOLLOWING )</span><br></span></code></pre></div></div>
<p>Where <code>agg</code> is a window aggregate function as described in the <a href="/sql/aggregates#window-aggregate-functions">section
on aggregation</a>.</p>
<p>Currently we require window ranges to have constant values.  This
precludes ranges such as <code>INTERVAL 1 YEAR</code>, which have variable sizes.
The window bounds must be non-negative constant values.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-functions">Table functions<a href="#table-functions" class="hash-link" aria-label="Direct link to Table functions" title="Direct link to Table functions">​</a></h2>
<p>Table functions are invoked using the syntax <code>TABLE(function(arguments))</code>.</p>
<p>See <a href="/sql/table#table-functions-1">Table functions</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="asof-joins"><code>ASOF</code> joins<a href="#asof-joins" class="hash-link" aria-label="Direct link to asof-joins" title="Direct link to asof-joins">​</a></h2>
<p>An <code>ASOF JOIN</code> operation combines rows from two tables based on
timestamp values.  For each row in the left table, the join
finds at most a single row in the right table that has the &quot;closest&quot;
timestamp value. The matched row on the right side is the closest
match whose timestamp column is compared using the comparison operator in
the <code>MATCH_CONDITION</code> clause.  Currently, only <code>&gt;=</code> is supported.
The comparison is performed using SQL semantics, which returns <code>false</code>
when comparing <code>NULL</code> values with any other values.  Thus a <code>NULL</code>
timestamp in the left table will not match any timestamps in the right table.</p>
<p>Currently, only the <code>LEFT</code> form of the <code>ASOF JOIN</code> is supported.  In this case,
when there is no match for a row in the left table, the columns from
the right table are null-padded.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> left_table </span><span class="token keyword" style="color:#00009f">LEFT</span><span class="token plain"> ASOF </span><span class="token keyword" style="color:#00009f">JOIN</span><span class="token plain"> right_table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MATCH_CONDITION </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> left_table</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timecol </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> right_table</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timecol </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ON</span><span class="token plain"> left_table</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">col </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> right_table</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">col</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lambda-expressions">Lambda expressions<a href="#lambda-expressions" class="hash-link" aria-label="Direct link to Lambda expressions" title="Direct link to Lambda expressions">​</a></h2>
<p>Lambda expressions are a class of expressions that represent functions.
The grammar for lambda expressions is given by:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">lambdaExpression:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      parameters &#x27;-&gt;&#x27; expression</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">parameters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;(&#x27; [ identifier [, identifier ] ] &#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  |   identifier</span><br></span></code></pre></div></div>
<p>Lambda expressions can be used as arguments for higher-order function.
Here is an example:</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">EXISTS</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ARRAY</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/sql/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Feldera SQL</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/sql/identifiers"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Identifiers</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-user-defined-types" class="table-of-contents__link toc-highlight">Creating user-defined types</a></li><li><a href="#creating-tables" class="table-of-contents__link toc-highlight">Creating tables</a><ul><li><a href="#table-properties-that-impact-the-program-semantics" class="table-of-contents__link toc-highlight">Table properties that impact the program semantics</a></li><li><a href="#lateness" class="table-of-contents__link toc-highlight">LATENESS</a></li><li><a href="#watermarks" class="table-of-contents__link toc-highlight">WATERMARKS</a></li></ul></li><li><a href="#creating-user-defined-functions" class="table-of-contents__link toc-highlight">Creating user-defined functions.</a></li><li><a href="#creating-views" class="table-of-contents__link toc-highlight">Creating views</a></li><li><a href="#creating-indexes" class="table-of-contents__link toc-highlight">Creating indexes</a><ul><li><a href="#aggregate-queries" class="table-of-contents__link toc-highlight">Aggregate queries</a></li></ul></li><li><a href="#sub-queries" class="table-of-contents__link toc-highlight">Sub-queries</a><ul><li><a href="#grouping-functions" class="table-of-contents__link toc-highlight">Grouping functions</a></li></ul></li><li><a href="#window-aggregates" class="table-of-contents__link toc-highlight">Window aggregates</a></li><li><a href="#table-functions" class="table-of-contents__link toc-highlight">Table functions</a></li><li><a href="#asof-joins" class="table-of-contents__link toc-highlight"><code>ASOF</code> joins</a></li><li><a href="#lambda-expressions" class="table-of-contents__link toc-highlight">Lambda expressions</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/get-started">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/tutorials/basics/part1">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/sql/intro">SQL Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/felderacommunity/shared_invite/zt-222bq930h-dgsu5IEzAihHg8nQt~dHzA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/s6t5n9UzHE" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bsky.app/profile/feldera.bsky.social" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bluesky<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/feldera/feldera" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Feldera Inc.</div></div></div></footer></div>
</body>
</html>