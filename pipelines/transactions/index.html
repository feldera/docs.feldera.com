<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-pipelines/transactions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Efficient Bulk Data Processing using Transactions | Feldera Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.feldera.com/pipelines/transactions"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Efficient Bulk Data Processing using Transactions | Feldera Documentation"><meta data-rh="true" name="description" content="Transaction support is an experimental feature and may undergo significant"><meta data-rh="true" property="og:description" content="Transaction support is an experimental feature and may undergo significant"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.feldera.com/pipelines/transactions"><link data-rh="true" rel="alternate" href="https://docs.feldera.com/pipelines/transactions" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.feldera.com/pipelines/transactions" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WX24466N8W-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Pipelines","item":"https://docs.feldera.com/pipelines/"},{"@type":"ListItem","position":2,"name":"Efficient Bulk Data Processing using Transactions","item":"https://docs.feldera.com/pipelines/transactions"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Feldera Documentation" href="/opensearch.xml">



<link rel="preconnect" href="https://us.i.posthog.com">
<script>!function(t,e){var o,s,r,a;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,n,p){function c(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(r=t.createElement("script")).type="text/javascript",r.async=!0,r.src=n.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,a);var g=e;for(void 0!==p?g=e[p]=[]:p="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==p&&(e+="."+p),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),s=0;s<o.length;s++)c(g,o[s]);e._i.push([i,n,p])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_GKR68l5zo531AD1R3cnE3MCPEBPXTqgYax4q053LVBD",{api_host:"https://us.i.posthog.com",id:"default"})</script>
<script async defer="defer" id="hs-script-loader" src="//js.hs-scripts.com/45801078.js"></script><link rel="stylesheet" href="/assets/css/styles.6b0c5225.css">
<script src="/assets/js/runtime~main.d6544c63.js" defer="defer"></script>
<script src="/assets/js/main.421ffaf6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.feldera.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo-color-dark.svg" alt="Feldera Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-color-light.svg" alt="Feldera Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/get-started">Get Started</a><a class="navbar__item navbar__link" href="/sql">SQL Reference</a><a class="navbar__item navbar__link" href="/connectors">Connectors</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://join.slack.com/t/felderacommunity/shared_invite/zt-222bq930h-dgsu5IEzAihHg8nQt~dHzA" target="_blank" rel="noopener noreferrer" class="dropdown__link">Slack<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://discord.com/invite/s6t5n9UzHE" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/feldera/feldera" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">What is Feldera?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/architecture/enterprise">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/get-started/">Install Feldera</a><button aria-label="Expand sidebar category &#x27;Install Feldera&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tutorials/">Guides</a><button aria-label="Expand sidebar category &#x27;Guides&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/interface/">Feldera Interface</a><button aria-label="Collapse sidebar category &#x27;Feldera Interface&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interface/web-console">Web Console</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interface/cli">Command line tool (fda)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="/python/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Python SDK<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="/api" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">REST API<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/pipelines/">Pipelines</a><button aria-label="Collapse sidebar category &#x27;Pipelines&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/sql/">Feldera SQL</a><button aria-label="Expand sidebar category &#x27;Feldera SQL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/connectors/">Connectors</a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/formats/">Formats</a><button aria-label="Expand sidebar category &#x27;Formats&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/lifecycle">Reference: Pipeline Lifecycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/configuration">Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/fault-tolerance">Fault tolerance and checkpoint/resume</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/modifying">Modifying a Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/checkpoint-sync">Synchronizing checkpoints to object store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pipelines/transactions">Efficient Bulk Data Processing using Transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/latency">Measuring Pipeline Latency</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/operations/guide">Feldera Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/literature/papers">Literature</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/changelog">Changelog</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/pipelines/"><span>Pipelines</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Efficient Bulk Data Processing using Transactions</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Efficient Bulk Data Processing using Transactions</h1></header>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Transaction support is an experimental feature and may undergo significant
changes, including non-backward-compatible modifications in future releases of
Feldera.</p></div></div>
<p>Transactions enable Feldera pipelines to ingest and process large volumes of data atomically—in
one logical unit of work rather than piece-by-piece.  Transactions are used to achieve:</p>
<ul>
<li>
<p><strong>Efficient backfill</strong>: ingest and process large historical datasets.</p>
</li>
<li>
<p><strong>Atomicity</strong>: process multiple inputs atomically without emitting intermediate results.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>By default, Feldera pipelines run in <strong>continuous mode</strong>: they ingest a chunk of
data from input connectors, process it to completion and produce updates to all
views before processing the next chunk.  This mode is optimal for low-latency
incremental view maintenance; but less suited for bulk data ingest.</p>
<p>A common scenario is when a pipeline must ingest a large volume of historical data
accumulated over years before processing new real-time inputs. This is known as
the <strong>backfill</strong> problem. While backfill can be performed in continuous mode,
this is likely to lead to two issues:</p>
<ul>
<li>
<p><strong>Performance:</strong> computing all intermediate updates can be more expensive than
computing the cumulative update. The exact performance difference depends on
your SQL queries and can be very significant in some cases.</p>
</li>
<li>
<p><strong>Atomicity:</strong> in continuous mode the pipeline produces a stream of intermediate
updates, which often cancel each other out.  Consider for instance a <code>COUNT(*)</code>
query whose output changes any time new records are ingested.  These updates
expose intermediate computation results to downstream systems while placing
excessive load on the data sinks.</p>
</li>
</ul>
<p><strong>Transactions</strong> solve these challenges by allowing input updates to be grouped into
a single batch and processed atomically. In transactional mode,
Feldera still executes SQL queries incrementally and produces a delta of changes
to output views. The key difference is in who controls the batch size: instead of the
engine automatically deciding chunk boundaries, the user explicitly defines the scope
of each transaction.</p>
<p>The following table summarizes the two modes:</p>
<table><thead><tr><th></th><th>Continuous Mode</th><th>Transactions</th></tr></thead><tbody><tr><td><strong>When to use</strong></td><td><p>Process real-time inputs with low latency</p></td><td><ul><li>Efficiently process bulk data</li><li>Process multiple updates atomically</li></ul></td></tr><tr><td><strong>When query evaluation is triggered</strong></td><td><p>When an input chunk is ingested</p></td><td><p>On transaction commit</p></td></tr><tr><td><strong>Strong consistency</strong></td><td><p>Yes: after processing an input chunk, the contents of all views matches all the inputs received so far.</p></td><td><p>Yes: after committing a transaction the contents of all matches all the inputs received so far, including inputs received as part of the transaction.</p></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-api">Transaction API<a href="#transaction-api" class="hash-link" aria-label="Direct link to Transaction API" title="Direct link to Transaction API">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="start-a-transaction">Start a transaction<a href="#start-a-transaction" class="hash-link" aria-label="Direct link to Start a transaction" title="Direct link to Start a transaction">​</a></h3>
<p>Use the <a href="/api/begin-transaction"><code>start_transaction</code></a> API to start a transaction. The API returns a transaction ID:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">REST API</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Python SDK</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">fda CLI</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ curl -X POST http://localhost:8080/v0/pipelines/my_pipeline/start_transaction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{&quot;transaction_id&quot;:1}</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> feldera</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pipeline </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Pipeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transaction_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pipeline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">start_transaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ fda start-transaction my_pipeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction started successfully with ID: 1</span><br></span></code></pre></div></div></div></div></div>
<ul>
<li>
<p>The <code>start_transaction</code> call will fail if there is already a transaction in progress.</p>
</li>
<li>
<p>During a transaction, the pipeline ingests incoming data without producing output, performing only minimal processing such as resolving primary keys and indexing inputs.</p>
</li>
<li>
<p>Any inputs received by the pipeline between <code>start_transaction</code> and <code>commit_transaction</code>, along with data buffered by input connectors but not yet processed at the time <code>start_transaction</code> is called, are processed as part of the transaction.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="commit-a-transaction">Commit a transaction<a href="#commit-a-transaction" class="hash-link" aria-label="Direct link to Commit a transaction" title="Direct link to Commit a transaction">​</a></h3>
<p>Once the pipeline has ingested all inputs that must be processed as part of the transaction,
commit the transaction using the <a href="/api/commit-transaction"><code>commit_transaction</code></a> API.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">REST API</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Python SDK</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">fda CLI</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ curl -X POST http://localhost:8080/v0/pipelines/my_pipeline/commit_transaction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Transaction commit initiated&quot;</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">transaction_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pipeline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">commit_transaction</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">transaction_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> wait </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ fda commit-transaction my_pipeline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction committed successfully.</span><br></span></code></pre></div></div></div></div></div>
<ul>
<li>
<p>The <code>commit_transaction</code> REST API initiates the commit. The commit can take some time and complete later.
Use the <a href="#monitoring-transaction-status"><code>/stats</code> endpoint</a> to monitor transaction status.</p>
</li>
<li>
<p>The Python SDK and <code>fda</code> CLI provide both blocking and non-blocking variants of the commit operation.
The blocking variant waits until the commit is complete before returning control to the caller.</p>
</li>
<li>
<p>During a transaction commit, the pipeline computes updates to all views in the
program. Depending on the volume of ingested data and the complexity of the
views, this process can take a significant amount of time. While the commit is
in progress, the pipeline neither ingests new inputs nor produces outputs. To
provide visibility, the pipeline periodically (every 10 seconds) logs the
progress of the current commit operation.</p>
</li>
<li>
<p>Once the commit is complete, the pipeline outputs a batch of updates for every view in the program.
These updates are processed by the output connectors, which send them to their associated data sinks.</p>
</li>
</ul>
<p>When the transaction is complete, the pipeline goes back into continuous processing mode. The user can start a new transaction any time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-transaction-status">Monitoring transaction status<a href="#monitoring-transaction-status" class="hash-link" aria-label="Direct link to Monitoring transaction status" title="Direct link to Monitoring transaction status">​</a></h3>
<p>The user can monitor the transaction handling status of the pipeline using the <a href="/api/get-pipeline-stats"><code>/stats</code></a> endpoint. The status can be one of:</p>
<table><thead><tr><th>Status</th><th>Description</th></tr></thead><tbody><tr><td><code>NoTransaction</code></td><td>There is currently no active transaction. The pipeline is running in continuous mode.</td></tr><tr><td><code>TransactionInProgress</code></td><td>There is an active transaction in progress.</td></tr><tr><td><code>CommitInProgress</code></td><td>The current transaction is being committed.</td></tr></tbody></table>
<p>When the status is <code>TransactionInProgress</code> or <code>CommitInProgress</code>, the <code>transaction_id</code> attribute contains the current transaction ID.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">REST API</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Python SDK</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">fda CLI</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ curl -s http://localhost:8080/v0/pipelines/my_pipeline/stats | jq -r &#x27;.global_metrics.transaction_status&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TransactionInProgress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ curl -s http://localhost:8080/v0/pipelines/my_pipeline/stats | jq -r &#x27;.global_metrics.transaction_id&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">transaction_status </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pipeline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">transaction_status</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">transaction_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pipeline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">transaction_id</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ fda stats my_pipeline --format json | jq -r &#x27;.global_metrics.transaction_status&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CommitInProgress</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ fda stats my_pipeline --format json | jq -r &#x27;.global_metrics.transaction_id&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1</span><br></span></code></pre></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-transaction-orchestration">Automatic Transaction Orchestration<a href="#automatic-transaction-orchestration" class="hash-link" aria-label="Direct link to Automatic Transaction Orchestration" title="Direct link to Automatic Transaction Orchestration">​</a></h2>
<p>In addition to initiating transactions programmatically via the API, certain input connectors can also be configured to initiate transactions automatically.
This feature enables users to leverage transactions <strong>declaratively</strong> within the pipeline’s SQL definition.</p>
<p>Use cases:</p>
<ul>
<li>
<p><strong>Backfill</strong> — When a pipeline starts, input connectors often start with ingesting historical data from their associated data sources.
It is beneficial to ingest and process this data as part of a single transaction as explained in the previous sections.</p>
</li>
<li>
<p><strong>Atomic processing of related updates</strong> — Some data sources, such as Delta Lake, partition the input stream into groups of updates that must be applied together as a single atomic unit.
By processing each of these groups as one Feldera transaction, the system preserves atomicity end-to-end, ensuring that all related updates are applied together.</p>
</li>
</ul>
<p>Multiple connectors attached to the same or different SQL tables may initiate transactions concurrently.
In this case, Feldera automatically combines these individual transaction requests into a single coordinated transaction:</p>
<ul>
<li>The transaction <strong>begins</strong> when the first connector initiates it.</li>
<li>The transaction <strong>commits</strong> when the last participating connector commits the transaction.</li>
</ul>
<p>For example, if several connectors performing backfill are configured to use transactions, their operations will be merged into one composite transaction, effectively
equivalent to initiating a single transaction through the REST API that ingests all historical inputs together.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-connectors">Supported Connectors<a href="#supported-connectors" class="hash-link" aria-label="Direct link to Supported Connectors" title="Direct link to Supported Connectors">​</a></h3>
<p>Automatic transaction orchestration is currently supported only for the <strong>Delta Lake connector</strong>.
Refer to the <a href="/connectors/sources/delta#transactions">Delta Lake connector documentation</a> for details.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="limitations">Limitations<a href="#limitations" class="hash-link" aria-label="Direct link to Limitations" title="Direct link to Limitations">​</a></h2>
<ul>
<li>
<p>Concurrent transactions are not supported. At most one transaction can run at a time. All inputs ingested by the pipeline while the transaction is active are processed as part of the transaction.</p>
</li>
<li>
<p>Checkpointing is disabled during a transaction. A checkpoint initiated during a transaction gets delayed until the transaction has committed.</p>
</li>
<li>
<p>A transaction currently cannot be aborted or rolled back. Let us know if this feature is important for your use case by <a href="https://github.com/feldera/feldera/issues/4710" target="_blank" rel="noopener noreferrer">leaving a comment</a>.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h2>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Create a simple pipeline that copies all records in table `t` to view `v`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ echo &#x27;create table t(x int); create materialized view v as select * from t;&#x27; | fda create transaction_test --stdin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pipeline created successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ fda start transaction_test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Pipeline started successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Update the table.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ fda query transaction_test &quot;insert into t values(1)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| count |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># The change is instantly reflected in the output view.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ fda query transaction_test &quot;select * from v&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| x |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Start a transaction.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ fda start-transaction transaction_test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction started successfully with ID: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Insert more records.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ fda query transaction_test &quot;insert into t values(2)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| count |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ fda query transaction_test &quot;insert into t values(3)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| count |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+-------+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># The view remains unmodified since the transaction has not been committed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ fda query transaction_test &quot;select * from v&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| x |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Commit the transaction.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ fda commit-transaction transaction_test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Transaction committed successfully.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Updates performed during the transaction are now propagated to all views.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ fda query transaction_test &quot;select * from v&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| x |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 2 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 3 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1 |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+---+</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/pipelines/checkpoint-sync"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Synchronizing checkpoints to object store</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pipelines/latency"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Measuring Pipeline Latency</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#transaction-api" class="table-of-contents__link toc-highlight">Transaction API</a><ul><li><a href="#start-a-transaction" class="table-of-contents__link toc-highlight">Start a transaction</a></li><li><a href="#commit-a-transaction" class="table-of-contents__link toc-highlight">Commit a transaction</a></li><li><a href="#monitoring-transaction-status" class="table-of-contents__link toc-highlight">Monitoring transaction status</a></li></ul></li><li><a href="#automatic-transaction-orchestration" class="table-of-contents__link toc-highlight">Automatic Transaction Orchestration</a><ul><li><a href="#supported-connectors" class="table-of-contents__link toc-highlight">Supported Connectors</a></li></ul></li><li><a href="#limitations" class="table-of-contents__link toc-highlight">Limitations</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/get-started">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/tutorials/basics/part1">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/sql/intro">SQL Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/felderacommunity/shared_invite/zt-222bq930h-dgsu5IEzAihHg8nQt~dHzA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/s6t5n9UzHE" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bsky.app/profile/feldera.bsky.social" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bluesky<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/feldera/feldera" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Feldera Inc.</div></div></div></footer></div>
</body>
</html>