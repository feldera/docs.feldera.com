"use strict";(self.webpackChunkfeldera_docs=self.webpackChunkfeldera_docs||[]).push([[4939],{11970:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>p,frontMatter:()=>d,metadata:()=>l,toc:()=>a});const l=JSON.parse('{"id":"operations/json-logging","title":"JSON logging","description":"This page documents the structured JSON log format emitted when the FELDERALOGJSON environment variable is set (for example, FELDERALOGJSON=1). The default pretty text logs are unchanged. Logs come from two sources:","source":"@site/docs/operations/json-logging.md","sourceDirName":"operations","slug":"/operations/json-logging","permalink":"/operations/json-logging","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":25,"frontMatter":{"title":"JSON logging","sidebar_position":25},"sidebar":"docsSidebar","previous":{"title":"Pipeline Metrics","permalink":"/operations/metrics"},"next":{"title":"Visualizing Pipeline Profiles","permalink":"/operations/visualizing-profiles"}}');var s=i(74848),r=i(28453);const d={title:"JSON logging",sidebar_position:25},t="Logging (JSON)",c={},a=[{value:"Identity fields",id:"identity-fields",level:2},{value:"JSON object members (spec)",id:"json-object-members-spec",level:2},{value:"Examples",id:"examples",level:2},{value:"Example: enabling JSON",id:"example-enabling-json",level:2},{value:"Notes",id:"notes",level:2}];function o(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"logging-json",children:"Logging (JSON)"})}),"\n",(0,s.jsxs)(n.p,{children:["This page documents the structured JSON log format emitted when the ",(0,s.jsx)(n.code,{children:"FELDERA_LOG_JSON"})," environment variable is set (for example, ",(0,s.jsx)(n.code,{children:"FELDERA_LOG_JSON=1"}),"). The default pretty text logs are unchanged. Logs come from two sources:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Control plane components (manager, runner, compiler-server, kubernetes-runner, control-plane): these carry ",(0,s.jsx)(n.code,{children:"feldera-service"})," set to the component name."]}),"\n",(0,s.jsxs)(n.li,{children:["Pipelines (the dataflow processes): these carry ",(0,s.jsx)(n.code,{children:'feldera-service: "pipeline"'})," and ",(0,s.jsx)(n.code,{children:"pipeline-name"}),"/",(0,s.jsx)(n.code,{children:"pipeline-id"}),". Control plane logs that are about a specific pipeline also include the pipeline identifiers."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"identity-fields",children:"Identity fields"}),"\n",(0,s.jsxs)(n.p,{children:["These identity fields are lifted alongside the standard top-level metadata (",(0,s.jsx)(n.code,{children:"timestamp"}),", ",(0,s.jsx)(n.code,{children:"level"}),", ",(0,s.jsx)(n.code,{children:"target"}),"):"]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Meaning"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"feldera-service"})}),(0,s.jsxs)(n.td,{children:["Source: ",(0,s.jsx)(n.code,{children:"manager"})," | ",(0,s.jsx)(n.code,{children:"runner"})," | ",(0,s.jsx)(n.code,{children:"compiler-server"})," | ",(0,s.jsx)(n.code,{children:"kubernetes-runner"})," | ",(0,s.jsx)(n.code,{children:"control-plane"})," | ",(0,s.jsx)(n.code,{children:"pipeline"})," (auto-tagged by module path). This identifies which Feldera component produced the log."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"pipeline-name"})}),(0,s.jsxs)(n.td,{children:["Human-friendly pipeline name when available; if it is not immediately available it is set to ",(0,s.jsx)(n.code,{children:"N/A"}),". Present for pipeline events. Control plane events tied to a specific pipeline also include this name."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"pipeline-id"})}),(0,s.jsx)(n.td,{children:"Pipeline UUID when the event relates to a specific pipeline. Present for pipeline events. Control plane events tied to a specific pipeline also include this ID."})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"json-object-members-spec",children:"JSON object members (spec)"}),"\n",(0,s.jsx)(n.p,{children:"Each log entry is a JSON object whose members are:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"timestamp"})," (required): string value, UTC with microsecond precision (e.g. ",(0,s.jsx)(n.code,{children:"2025-12-06T02:08:14.902292Z"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"level"})," (required): string value, one of ",(0,s.jsx)(n.code,{children:"TRACE"})," | ",(0,s.jsx)(n.code,{children:"DEBUG"})," | ",(0,s.jsx)(n.code,{children:"INFO"})," | ",(0,s.jsx)(n.code,{children:"WARN"})," | ",(0,s.jsx)(n.code,{children:"ERROR"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"target"})," (required): string value, Rust module path of the log source."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fields"})," (required): object value containing the event payload (one of ",(0,s.jsx)(n.code,{children:"message"})," or ",(0,s.jsx)(n.code,{children:"line"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"feldera-service"})," (optional): string value, present for control plane events and for pipelines (as ",(0,s.jsx)(n.code,{children:"pipeline"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pipeline-name"})," (optional): string value, present when the event is tied to a pipeline."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pipeline-id"})," (optional): string value, present when the event is tied to a pipeline."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Practical rule: every log line has ",(0,s.jsx)(n.code,{children:"timestamp"}),", ",(0,s.jsx)(n.code,{children:"level"}),", ",(0,s.jsx)(n.code,{children:"target"}),", and ",(0,s.jsx)(n.code,{children:"fields"}),". Control plane logs add ",(0,s.jsx)(n.code,{children:"feldera-service"}),"; pipeline-related logs add ",(0,s.jsx)(n.code,{children:'feldera-service: "pipeline"'})," plus ",(0,s.jsx)(n.code,{children:"pipeline-name"})," and ",(0,s.jsx)(n.code,{children:"pipeline-id"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.p,{children:"Manager pipeline lifecycle:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "2025-12-05T18:54:07.231095Z",\n  "level": "INFO",\n  "target": "pipeline_manager::api::endpoints::pipeline_management",\n  "feldera-service": "manager",\n  "pipeline-name": "MyPipeline",\n  "pipeline-id": "019af011-5282-7751-98c2-f61478d0df63",\n  "fields": {\n    "message": "Created pipeline \\"MyPipeline\\" (019af011-5282-7751-98c2-f61478d0df63) (tenant: 00000000-0000-0000-0000-000000000000)"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Runner log stream starting up:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "2025-12-06T02:08:14.902292Z",\n  "level": "INFO",\n  "target": "pipeline_manager::runner::pipeline_logs",\n  "feldera-service": "runner",\n  "pipeline-name": "N/A",\n  "pipeline-id": "019af16a-ba26-7933-a6e5-65d9d717cb7a",\n  "fields": { "line": "Fresh start of pipeline logs" }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Compiler server log:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "2025-12-05T18:01:22.996459Z",\n  "level": "INFO",\n  "target": "pipeline_manager::compiler::sql_compiler",\n  "feldera-service": "compiler-server",\n  "pipeline-name": "MyPipeline",\n  "pipeline-id": "019aefac-fc78-75b0-9089-0f7496f8ac1f",\n  "fields": { "message": "SQL compilation started: pipeline 019aefac-fc78-75b0-9089-0f7496f8ac1f (program version: 1)" }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"Pipeline log:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "2025-12-09T21:26:17.362514Z",\n  "level": "INFO",\n  "target": "dbsp_adapters::server",\n  "feldera-service": "pipeline",\n  "pipeline-name": "MyPipeline",\n  "pipeline-id": "019af16a-ba26-7933-a6e5-65d9d717cb7a",\n  "fields": { "message": "Pipeline initialization complete" }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"example-enabling-json",children:"Example: enabling JSON"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"FELDERA_LOG_JSON=1 cargo run --bin=pipeline-manager\n"})}),"\n",(0,s.jsx)(n.p,{children:"Helm:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"helm upgrade --install feldera <chart> --namespace feldera --create-namespace --set logJson=true\n"})}),"\n",(0,s.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Plain-text logging remains the default; JSON is opt-in via ",(0,s.jsx)(n.code,{children:"FELDERA_LOG_JSON"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["The event payload lives under ",(0,s.jsx)(n.code,{children:"fields"})," (",(0,s.jsx)(n.code,{children:"message"})," or ",(0,s.jsx)(n.code,{children:"line"}),"); identity fields (",(0,s.jsx)(n.code,{children:"feldera-service"}),", ",(0,s.jsx)(n.code,{children:"pipeline-name"}),", ",(0,s.jsx)(n.code,{children:"pipeline-id"}),") are at the top level."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>t});var l=i(96540);const s={},r=l.createContext(s);function d(e){const n=l.useContext(r);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);