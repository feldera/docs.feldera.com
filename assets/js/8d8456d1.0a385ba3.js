"use strict";(self.webpackChunkfeldera_docs=self.webpackChunkfeldera_docs||[]).push([[6859],{14795:(e,n,t)=>{t.d(n,{A:()=>A});t(96540);var i=t(34164),a=t(26972),s=t(28774),r=t(53465),o=t(16654),l=t(21312),c=t(51107);const d={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};var u=t(74848);function h({className:e,href:n,children:t}){return(0,u.jsx)(s.A,{href:n,className:(0,i.A)("card padding--lg",d.cardContainer,e),children:t})}function p({className:e,href:n,icon:t,title:a,description:s}){return(0,u.jsxs)(h,{href:n,className:e,children:[(0,u.jsxs)(c.A,{as:"h2",className:(0,i.A)("text--truncate",d.cardTitle),title:a,children:[t," ",a]}),s&&(0,u.jsx)("p",{className:(0,i.A)("text--truncate",d.cardDescription),title:s,children:s})]})}function g({item:e}){const n=(0,a.Nr)(e),t=function(){const{selectMessage:e}=(0,r.W)();return n=>e(n,(0,l.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:n}))}();return n?(0,u.jsx)(p,{className:e.className,href:n,icon:"\ud83d\uddc3\ufe0f",title:e.label,description:e.description??t(e.items.length)}):null}function m({item:e}){const n=(0,o.A)(e.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",t=(0,a.cC)(e.docId??void 0);return(0,u.jsx)(p,{className:e.className,href:e.href,icon:n,title:e.label,description:e.description??t?.description})}function f({item:e}){switch(e.type){case"link":return(0,u.jsx)(m,{item:e});case"category":return(0,u.jsx)(g,{item:e});default:throw new Error(`unknown item type ${JSON.stringify(e)}`)}}const x={docCardListItem:"docCardListItem_W1sv"};function v({className:e}){const n=(0,a.a4)();return(0,u.jsx)(A,{items:n,className:e})}function j({item:e}){return(0,u.jsx)("article",{className:(0,i.A)(x.docCardListItem,"col col--6"),children:(0,u.jsx)(f,{item:e})})}function A(e){const{items:n,className:t}=e;if(!n)return(0,u.jsx)(v,{...e});const s=(0,a.d1)(n);return(0,u.jsx)("section",{className:(0,i.A)("row",t),children:s.map(((e,n)=>(0,u.jsx)(j,{item:e},n)))})}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(96540);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},53465:(e,n,t)=>{t.d(n,{W:()=>c});var i=t(96540),a=t(44586);const s=["zero","one","two","few","many","other"];function r(e){return s.filter((n=>e.includes(n)))}const o={locale:"en",pluralForms:r(["one","other"]),select:e=>1===e?"one":"other"};function l(){const{i18n:{currentLocale:e}}=(0,a.A)();return(0,i.useMemo)((()=>{try{return function(e){const n=new Intl.PluralRules(e);return{locale:e,pluralForms:r(n.resolvedOptions().pluralCategories),select:e=>n.select(e)}}(e)}catch(n){return console.error(`Failed to use Intl.PluralRules for locale "${e}".\nDocusaurus will fallback to the default (English) implementation.\nError: ${n.message}\n`),o}}),[e])}function c(){const e=l();return{selectMessage:(n,t)=>function(e,n,t){const i=e.split("|");if(1===i.length)return i[0];i.length>t.pluralForms.length&&console.error(`For locale=${t.locale}, a maximum of ${t.pluralForms.length} plural forms are expected (${t.pluralForms.join(",")}), but the message contains ${i.length}: ${e}`);const a=t.select(n),s=t.pluralForms.indexOf(a);return i[Math.min(s,i.length-1)]}(t,n,e)}}},67220:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"get-started/enterprise/authentication/index","title":"Authentication and Authorization","description":"This guide describes how to configure authentication providers and tenant assignment for Feldera Enterprise.","source":"@site/docs/get-started/enterprise/authentication/index.mdx","sourceDirName":"get-started/enterprise/authentication","slug":"/get-started/enterprise/authentication/","permalink":"/get-started/enterprise/authentication/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"EKS ingress","permalink":"/get-started/enterprise/kubernetes-guides/eks/ingress"},"next":{"title":"AWS Cognito","permalink":"/get-started/enterprise/authentication/aws-cognito"}}');var a=t(74848),s=t(28453),r=t(14795);const o={},l="Authentication and Authorization",c={},d=[{value:"Authentication model",id:"authentication-model",level:2},{value:"Authorization model",id:"authorization-model",level:2},{value:"Tenant Assignment Strategies",id:"tenant-assignment-strategies",level:2},{value:"Individual Tenancy (Enabled by default)",id:"individual-tenancy-enabled-by-default",level:3},{value:"Organization-wide Tenancy",id:"organization-wide-tenancy",level:3},{value:"Managed Tenancy",id:"managed-tenancy",level:3},{value:"Tenant Assignment use cases",id:"tenant-assignment-use-cases",level:2},{value:"Development environment - no authentication",id:"development-environment---no-authentication",level:3},{value:"Individual access",id:"individual-access",level:3},{value:"Organization-wide shared access",id:"organization-wide-shared-access",level:3},{value:"Group-based whitelist with organization-wide shared access",id:"group-based-whitelist-with-organization-wide-shared-access",level:3},{value:"Shared access within a user group (managed tenancy)",id:"shared-access-within-a-user-group-managed-tenancy",level:3},{value:"Individual access to whitelisted user groups",id:"individual-access-to-whitelisted-user-groups",level:3},{value:"Configuration options",id:"configuration-options",level:2},{value:"Mapping Pipeline Manager Options to Helm Chart Values",id:"mapping-pipeline-manager-options-to-helm-chart-values",level:3},{value:"Complete Configuration Template",id:"complete-configuration-template",level:4},{value:"Environment Variables Reference",id:"environment-variables-reference",level:3},{value:"Required Variables",id:"required-variables",level:4},{value:"Optional Variables",id:"optional-variables",level:4},{value:"Tenant Resolution Priority",id:"tenant-resolution-priority",level:2},{value:"Provider-Specific Setup",id:"provider-specific-setup",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"authentication-and-authorization",children:"Authentication and Authorization"})}),"\n",(0,a.jsxs)(n.p,{children:["This guide describes how to configure authentication providers and tenant assignment for ",(0,a.jsx)(n.strong,{children:"Feldera Enterprise"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"Feldera supports authentication through OIDC/OAuth2 providers, enabling secure multi-tenant deployments with flexible tenant assignment strategies."}),"\n",(0,a.jsx)(n.h2,{id:"authentication-model",children:"Authentication model"}),"\n",(0,a.jsx)(n.p,{children:"Feldera API supports two authentication types:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["OIDC: Requests should include a valid OIDC Access token in the ",(0,a.jsx)(n.code,{children:"Authorization"})," HTTP header in the shape ",(0,a.jsx)(n.code,{children:"Bearer <token>"})]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:["API key: Authorized Feldera users can generate API keys to be included in the ",(0,a.jsx)(n.code,{children:"Authorization"})," HTTP header in the shape ",(0,a.jsx)(n.code,{children:"Bearer <token>"})]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"authorization-model",children:"Authorization model"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Feldera Tenant"})," is a scope of access to Feldera pipelines for their management and configuration. The same tenant can be assigned to multiple users for shared access. The ingress and egress business data flow, which is configured through connectors, has it's own connector-dependent authentication and is not subject to tenant-based authorization."]}),"\n",(0,a.jsx)(n.p,{children:"Interaction with Feldera is always authorized through a tenant, so access to the platform implies assigning tenant to the user.\nFor OIDC authentication, the tenant is derived from claims in the OIDC Access token.\nFor API key authentication, the key is associated with the tenant through which the key was generated.\nWe support multiple authorization use-cases through strategies to assign tenant to Feldera API and clients' users."}),"\n",(0,a.jsxs)(n.p,{children:["As an orthogonal feature, the authorized-groups startup parameter can be used to limit access to the users who are a member of at least one of the groups in this list. The membership is determined based on the ",(0,a.jsx)(n.code,{children:"groups"})," claim of an OIDC Access token.\nUsers must belong to at least one of the specified groups to access Feldera. If ",(0,a.jsx)(n.code,{children:"authorizedGroups"})," is not specified or empty, no group restrictions apply."]}),"\n",(0,a.jsx)(n.h2,{id:"tenant-assignment-strategies",children:"Tenant Assignment Strategies"}),"\n",(0,a.jsx)(n.p,{children:"Feldera provides three different tenant assignment strategies to support different deployment patterns:"}),"\n",(0,a.jsx)(n.h3,{id:"individual-tenancy-enabled-by-default",children:"Individual Tenancy (Enabled by default)"}),"\n",(0,a.jsxs)(n.p,{children:["Each authenticated user gets their own private tenant based on the ",(0,a.jsx)(n.code,{children:"sub"})," claim of the OIDC Access token. Does not require authentication provider configuration. Configured with ",(0,a.jsx)(n.code,{children:"authorization.individualTenant"})," Helm value."]}),"\n",(0,a.jsx)(n.h3,{id:"organization-wide-tenancy",children:"Organization-wide Tenancy"}),"\n",(0,a.jsxs)(n.p,{children:["Users from the same organization share a tenant, derived from the issuer hostname of the authentication token. Does not require authentication provider configuration. Configured with ",(0,a.jsx)(n.code,{children:"authorization.issuerTenant"})," Helm value."]}),"\n",(0,a.jsx)(n.h3,{id:"managed-tenancy",children:"Managed Tenancy"}),"\n",(0,a.jsxs)(n.p,{children:["Multiple teams can use the same Feldera instance with complete tenant isolation. Each team's users should be assigned to corresponding tenant(s) with the proper configuration of the dynamic ",(0,a.jsx)(n.code,{children:"tenants"})," claim in the OIDC Access token."]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"tenants"})," claim authorizes the user to access any of the specified tenants. It is always respected if issued.\n",(0,a.jsx)(n.code,{children:"tenants"})," can contain either a list, or a string of comma-separated tenant names."]}),"\n",(0,a.jsxs)(n.p,{children:["The user can only interact with the API through a single tenant at a time. When the user is authorized to multiple tenants, in Web Console they can switch between the current tenant.\nFor HTTP API use, the current tenant name is specified in the ",(0,a.jsx)(n.code,{children:"Feldera-Tenant"})," header."]}),"\n",(0,a.jsx)(n.h2,{id:"tenant-assignment-use-cases",children:"Tenant Assignment use cases"}),"\n",(0,a.jsx)(n.p,{children:"Listed below are example configurations for common authorization use-cases achieved through a combination of tenant assignment strategy and whitelisted group access."}),"\n",(0,a.jsx)(n.h3,{id:"development-environment---no-authentication",children:"Development environment - no authentication"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Helm Configuration:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:"auth:\n  enabled: false\n"})}),"\n",(0,a.jsx)(n.h3,{id:"individual-access",children:"Individual access"}),"\n",(0,a.jsxs)(n.p,{children:["Every user gets their individual tenant based on their ",(0,a.jsx)(n.code,{children:"sub"})," claim."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Helm Configuration:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'auth:\n  enabled: true\n  provider: "generic-oidc"\n  clientId: "0oa1a2b3c4d5e6f7g8h9"\n  issuer: "https://dev-12345.okta.com/oauth2/default"\n\nauthorization:\n  individualTenant: true\n  issuerTenant: false\n  authAudience: "feldera-api"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"organization-wide-shared-access",children:"Organization-wide shared access"}),"\n",(0,a.jsx)(n.p,{children:"All users in your organization share the same tenant based on the organization domain."}),"\n",(0,a.jsx)(n.p,{children:"The tenant name is extracted from OIDC issuer domain:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"https://acme-corp.okta.com/oauth2/default"})," \u2192 ",(0,a.jsx)(n.code,{children:"acme-corp.okta.com"})," tenant"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Helm Configuration:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'auth:\n  enabled: true\n  provider: "generic-oidc"\n  clientId: "0oa1a2b3c4d5e6f7g8h9"\n  issuer: "https://acme-corp.okta.com/oauth2/default"\n\nauthorization:\n  individualTenant: false\n  issuerTenant: true\n  authAudience: "feldera-api"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"group-based-whitelist-with-organization-wide-shared-access",children:"Group-based whitelist with organization-wide shared access"}),"\n",(0,a.jsx)(n.p,{children:"Users must belong to at least one of the specified groups to access Feldera. All authorized users share the organization tenant."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Helm Configuration:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'auth:\n  enabled: true\n  provider: "generic-oidc"\n  clientId: "0oa1a2b3c4d5e6f7g8h9"\n  issuer: "https://company.okta.com/oauth2/default"\n\nauthorization:\n  individualTenant: false\n  issuerTenant: true\n  authorizedGroups:\n    - "feldera-engineering"\n    - "feldera-qa"\n  authAudience: "feldera-api"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"shared-access-within-a-user-group-managed-tenancy",children:"Shared access within a user group (managed tenancy)"}),"\n",(0,a.jsxs)(n.p,{children:["Tenant assignment via ",(0,a.jsx)(n.code,{children:"tenants"})," claim in JWT configured in your OIDC provider."]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Helm Configuration:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'auth:\n  enabled: true\n  provider: "generic-oidc"\n  clientId: "0oa1a2b3c4d5e6f7g8h9"\n  issuer: "https://company.okta.com/oauth2/default"\n\nauthorization:\n  individualTenant: false\n  issuerTenant: false\n  authAudience: "feldera-api"\n'})}),"\n",(0,a.jsx)(n.h3,{id:"individual-access-to-whitelisted-user-groups",children:"Individual access to whitelisted user groups"}),"\n",(0,a.jsx)(n.p,{children:"Each user gets their individual tenant, but only users belonging to specified groups can access Feldera."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Helm Configuration:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'auth:\n  enabled: true\n  provider: "generic-oidc"\n  clientId: "0oa1a2b3c4d5e6f7g8h9"\n  issuer: "https://company.okta.com/oauth2/default"\n\nauthorization:\n  individualTenant: true\n  issuerTenant: false\n  authorizedGroups:\n    - "feldera-engineering"\n    - "feldera-qa"\n  authAudience: "feldera-api"\n'})}),"\n",(0,a.jsx)(n.h2,{id:"configuration-options",children:"Configuration options"}),"\n",(0,a.jsx)(n.h3,{id:"mapping-pipeline-manager-options-to-helm-chart-values",children:"Mapping Pipeline Manager Options to Helm Chart Values"}),"\n",(0,a.jsxs)(n.p,{children:["Feldera's authentication and authorization are configured through pipeline-manager command-line options. When deploying via Helm, these options map to values in your ",(0,a.jsx)(n.code,{children:"values.yaml"})," file."]}),"\n",(0,a.jsx)(n.h4,{id:"complete-configuration-template",children:"Complete Configuration Template"}),"\n",(0,a.jsx)(n.p,{children:"Below is a comprehensive template showing all available authentication and authorization options:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-yaml",children:'# Authentication provider configuration\nauth:\n  enabled: true                        # Enable/disable authentication\n  provider: "generic-oidc"             # Maps to: AUTH_PROVIDER; Options: "none", "aws-cognito", "generic-oidc"\n  clientId: "your-client-id"           # Maps to: FELDERA_AUTH_CLIENT_ID\n  issuer: "https://your-domain/oauth2/default"  # Maps to: FELDERA_AUTH_ISSUER\n\n  # AWS Cognito specific (only when provider: "aws-cognito")\n  cognitoLoginUrl: ""                  # Maps to: AWS_COGNITO_LOGIN_URL\n  cognitoLogoutUrl: ""                 # Maps to: AWS_COGNITO_LOGOUT_URL\n\n# Authorization and tenant assignment configuration\nauthorization:\n  # Individual tenant mode - each user gets their own tenant (default: true)\n  individualTenant: true                # Maps to: FELDERA_AUTH_INDIVIDUAL_TENANT\n\n  # Issuer-based tenant - derive tenant from auth issuer domain (default: false)\n  issuerTenant: false                   # Maps to: FELDERA_AUTH_ISSUER_TENANT\n\n  # Group-based access control - restrict access to specific groups\n  # Users must have at least one of these groups in their \'groups\' claim\n  authorizedGroups:                     # Maps to: FELDERA_AUTH_AUTHORIZED_GROUPS\n    - "feldera-users"\n    - "data-engineers"\n\n  # OIDC audience claim validation (default: "feldera-api")\n  authAudience: "feldera-api"           # Maps to: FELDERA_AUTH_AUDIENCE\n'})}),"\n",(0,a.jsx)(n.h3,{id:"environment-variables-reference",children:"Environment Variables Reference"}),"\n",(0,a.jsx)(n.p,{children:"If you need to configure pipeline-manager directly (without Helm), use these environment variables:"}),"\n",(0,a.jsx)(n.h4,{id:"required-variables",children:"Required Variables"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# OIDC provider configuration\nFELDERA_AUTH_ISSUER=https://<your-domain>/oauth2/<custom-auth-server-id>\nFELDERA_AUTH_CLIENT_ID=<your-client-id>\n"})}),"\n",(0,a.jsx)(n.h4,{id:"optional-variables",children:"Optional Variables"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# Authorization configuration\nFELDERA_AUTH_INDIVIDUAL_TENANT=true          # default: true\nFELDERA_AUTH_ISSUER_TENANT=false             # default: false\nFELDERA_AUTH_AUTHORIZED_GROUPS=group1,group2 # comma-separated list\nFELDERA_AUTH_AUDIENCE=feldera-api            # default: feldera-api\n\n# AWS Cognito specific\nAWS_COGNITO_LOGIN_URL=https://...\nAWS_COGNITO_LOGOUT_URL=https://...\n"})}),"\n",(0,a.jsx)(n.h2,{id:"tenant-resolution-priority",children:"Tenant Resolution Priority"}),"\n",(0,a.jsx)(n.p,{children:"Feldera resolves tenant assignment using the following priority order:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:[(0,a.jsx)(n.code,{children:"tenants"})," claim"]})," - Explicit tenant assignment via OIDC provider"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["Issuer domain ",(0,a.jsx)(n.code,{children:"iss"})," claim"]})," (when ",(0,a.jsx)(n.code,{children:"issuerTenant: true"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsxs)(n.strong,{children:["User ",(0,a.jsx)(n.code,{children:"sub"})," claim"]})," (when ",(0,a.jsx)(n.code,{children:"individualTenant: true"}),")"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["If no valid tenant is found and ",(0,a.jsx)(n.code,{children:"individualTenant: false"})," the user will be denied authorization."]}),"\n",(0,a.jsx)(n.h2,{id:"provider-specific-setup",children:"Provider-Specific Setup"}),"\n",(0,a.jsx)(n.p,{children:"Feldera supports the following authentication providers:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"AWS Cognito"}),"\n",(0,a.jsx)(n.li,{children:"Okta"}),"\n",(0,a.jsx)(n.li,{children:"Google Identity"}),"\n",(0,a.jsx)(n.li,{children:"Generic OIDC"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Each authentication provider requires specific configuration. Choose your provider below:"}),"\n","\n",(0,a.jsx)(r.A,{})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}}}]);