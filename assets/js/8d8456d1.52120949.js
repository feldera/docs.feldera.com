"use strict";(self.webpackChunkfeldera_docs=self.webpackChunkfeldera_docs||[]).push([[6859],{14795:(e,n,t)=>{t.d(n,{A:()=>y});t(96540);var i=t(34164),r=t(26972),a=t(28774),s=t(53465),o=t(16654),l=t(21312),c=t(51107);const d={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};var u=t(74848);function h({className:e,href:n,children:t}){return(0,u.jsx)(a.A,{href:n,className:(0,i.A)("card padding--lg",d.cardContainer,e),children:t})}function p({className:e,href:n,icon:t,title:r,description:a}){return(0,u.jsxs)(h,{href:n,className:e,children:[(0,u.jsxs)(c.A,{as:"h2",className:(0,i.A)("text--truncate",d.cardTitle),title:r,children:[t," ",r]}),a&&(0,u.jsx)("p",{className:(0,i.A)("text--truncate",d.cardDescription),title:a,children:a})]})}function m({item:e}){const n=(0,r.Nr)(e),t=function(){const{selectMessage:e}=(0,s.W)();return n=>e(n,(0,l.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:n}))}();return n?(0,u.jsx)(p,{className:e.className,href:n,icon:"\ud83d\uddc3\ufe0f",title:e.label,description:e.description??t(e.items.length)}):null}function g({item:e}){const n=(0,o.A)(e.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",t=(0,r.cC)(e.docId??void 0);return(0,u.jsx)(p,{className:e.className,href:e.href,icon:n,title:e.label,description:e.description??t?.description})}function x({item:e}){switch(e.type){case"link":return(0,u.jsx)(g,{item:e});case"category":return(0,u.jsx)(m,{item:e});default:throw new Error(`unknown item type ${JSON.stringify(e)}`)}}const f={docCardListItem:"docCardListItem_W1sv"};function j({className:e}){const n=(0,r.a4)();return(0,u.jsx)(y,{items:n,className:e})}function v({item:e}){return(0,u.jsx)("article",{className:(0,i.A)(f.docCardListItem,"col col--6"),children:(0,u.jsx)(x,{item:e})})}function y(e){const{items:n,className:t}=e;if(!n)return(0,u.jsx)(j,{...e});const a=(0,r.d1)(n);return(0,u.jsx)("section",{className:(0,i.A)("row",t),children:a.map(((e,n)=>(0,u.jsx)(v,{item:e},n)))})}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>o});var i=t(96540);const r={},a=i.createContext(r);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(a.Provider,{value:n},e.children)}},53465:(e,n,t)=>{t.d(n,{W:()=>c});var i=t(96540),r=t(44586);const a=["zero","one","two","few","many","other"];function s(e){return a.filter((n=>e.includes(n)))}const o={locale:"en",pluralForms:s(["one","other"]),select:e=>1===e?"one":"other"};function l(){const{i18n:{currentLocale:e}}=(0,r.A)();return(0,i.useMemo)((()=>{try{return function(e){const n=new Intl.PluralRules(e);return{locale:e,pluralForms:s(n.resolvedOptions().pluralCategories),select:e=>n.select(e)}}(e)}catch(n){return console.error(`Failed to use Intl.PluralRules for locale "${e}".\nDocusaurus will fallback to the default (English) implementation.\nError: ${n.message}\n`),o}}),[e])}function c(){const e=l();return{selectMessage:(n,t)=>function(e,n,t){const i=e.split("|");if(1===i.length)return i[0];i.length>t.pluralForms.length&&console.error(`For locale=${t.locale}, a maximum of ${t.pluralForms.length} plural forms are expected (${t.pluralForms.join(",")}), but the message contains ${i.length}: ${e}`);const r=t.select(n),a=t.pluralForms.indexOf(r);return i[Math.min(a,i.length-1)]}(t,n,e)}}},67220:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"get-started/enterprise/authentication/index","title":"Authentication and Authorization","description":"This guide describes how to configure authentication providers and tenant assignment for Feldera Enterprise.","source":"@site/docs/get-started/enterprise/authentication/index.mdx","sourceDirName":"get-started/enterprise/authentication","slug":"/get-started/enterprise/authentication/","permalink":"/get-started/enterprise/authentication/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"EKS ingress","permalink":"/get-started/enterprise/kubernetes-guides/eks/ingress"},"next":{"title":"AWS Cognito","permalink":"/get-started/enterprise/authentication/aws-cognito"}}');var r=t(74848),a=t(28453),s=t(14795);const o={},l="Authentication and Authorization",c={},d=[{value:"Authentication model",id:"authentication-model",level:2},{value:"Authorization model",id:"authorization-model",level:2},{value:"Tenant Assignment Strategies",id:"tenant-assignment-strategies",level:2},{value:"Individual Tenancy (Enabled by default)",id:"individual-tenancy-enabled-by-default",level:3},{value:"Organization-wide Tenancy",id:"organization-wide-tenancy",level:3},{value:"User Group Tenancy",id:"user-group-tenancy",level:3},{value:"Tenant Assignment use cases",id:"tenant-assignment-use-cases",level:2},{value:"Development environment - no authentication",id:"development-environment---no-authentication",level:3},{value:"Individual tenancy",id:"individual-tenancy",level:3},{value:"Organization tenancy",id:"organization-tenancy",level:3},{value:"Whitelisted organization tenancy",id:"whitelisted-organization-tenancy",level:3},{value:"User group tenancy",id:"user-group-tenancy-1",level:3},{value:"User group tenancy with individual users",id:"user-group-tenancy-with-individual-users",level:3},{value:"Tenant Resolution Priority",id:"tenant-resolution-priority",level:2},{value:"Provider-Specific Setup",id:"provider-specific-setup",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"authentication-and-authorization",children:"Authentication and Authorization"})}),"\n",(0,r.jsxs)(n.p,{children:["This guide describes how to configure authentication providers and tenant assignment for ",(0,r.jsx)(n.strong,{children:"Feldera Enterprise"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Feldera supports authentication through OIDC/OAuth2 providers, enabling secure multi-tenant deployments with flexible tenant assignment strategies."}),"\n",(0,r.jsx)(n.h2,{id:"authentication-model",children:"Authentication model"}),"\n",(0,r.jsx)(n.p,{children:"Feldera API supports two authentication types:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["OIDC: Requests should include a valid OIDC Access token in the ",(0,r.jsx)(n.code,{children:"Authorization"})," HTTP header in the shape ",(0,r.jsx)(n.code,{children:"Bearer <token>"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["API key: Authorized Feldera users can generate API keys to be included in the ",(0,r.jsx)(n.code,{children:"Authorization"})," HTTP header in the shape ",(0,r.jsx)(n.code,{children:"Bearer <token>"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"authorization-model",children:"Authorization model"}),"\n",(0,r.jsx)(n.p,{children:"In Feldera, a tenant is a scope of shared access to platform data that can be assigned to one or more users.\nThe users of one tenant cannot access the data in another tenant.\nInteraction with Feldera is only performed with a tenant assigned, so authorization to the platform implies assigning tenant to the user.\nFor OIDC authentication, the tenant is derived from claims in the OIDC Access token.\nFor API key authentication, the key is associated with the tenant through which the key was generated."}),"\n",(0,r.jsxs)(n.p,{children:["As an orthogonal feature, the authorized_groups startup parameter can be used to limit access to the users who are a member of at least one of the groups in this list. The membership is determined based on the ",(0,r.jsx)(n.code,{children:"groups"})," claim of an OIDC Access token."]}),"\n",(0,r.jsx)(n.h2,{id:"tenant-assignment-strategies",children:"Tenant Assignment Strategies"}),"\n",(0,r.jsx)(n.p,{children:"Feldera provides three different tenant assignment strategies to support different deployment patterns:"}),"\n",(0,r.jsx)(n.h3,{id:"individual-tenancy-enabled-by-default",children:"Individual Tenancy (Enabled by default)"}),"\n",(0,r.jsxs)(n.p,{children:["Each authenticated user gets their own private tenant based on the ",(0,r.jsx)(n.code,{children:"sub"})," claim of the OIDC Access token. Does not require authentication provider configuration. Configured with --individual-tenant startup flag."]}),"\n",(0,r.jsx)(n.h3,{id:"organization-wide-tenancy",children:"Organization-wide Tenancy"}),"\n",(0,r.jsx)(n.p,{children:"Users from the same organization share a tenant, derived from the issuer hostname of the authentication token. Does not require authentication provider configuration. Configured with --issuer-tenant startup flag."}),"\n",(0,r.jsx)(n.h3,{id:"user-group-tenancy",children:"User Group Tenancy"}),"\n",(0,r.jsx)(n.p,{children:"Multiple teams can use the same Feldera instance with complete tenant isolation. Each team's users should be assigned to a corresponding tenant with the proper configuration of a dynamic tenant claim. Requires configuring a custom claim in OIDC Access token. It is always enabled"}),"\n",(0,r.jsx)(n.h2,{id:"tenant-assignment-use-cases",children:"Tenant Assignment use cases"}),"\n",(0,r.jsx)(n.p,{children:"Configure tenant assignment behavior using a combination of the following strategies:"}),"\n",(0,r.jsx)(n.h3,{id:"development-environment---no-authentication",children:"Development environment - no authentication"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Default settings - each user gets individual tenant\npipeline-manager ... --auth-provider=none\n"})}),"\n",(0,r.jsx)(n.h3,{id:"individual-tenancy",children:"Individual tenancy"}),"\n",(0,r.jsx)(n.p,{children:"Every user gets their individual tenant"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Feldera Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pipeline-manager ... --auth-provider=<provider> --individual-tenant=true\n"})}),"\n",(0,r.jsx)(n.h3,{id:"organization-tenancy",children:"Organization tenancy"}),"\n",(0,r.jsx)(n.p,{children:"Lets all users in your organization share the same tenant based on the organization domain."}),"\n",(0,r.jsx)(n.p,{children:"The tenant name is extracted from OIDC issuer domain:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"https://acme-corp.okta.com/oauth2/default"})," \u2192 ",(0,r.jsx)(n.code,{children:"acme-corp.okta.com"})," tenant"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Feldera Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pipeline-manager ... --auth-provider=<provider> --issuer-tenant=true --individual-tenant=false\n"})}),"\n",(0,r.jsx)(n.p,{children:"Example tenant names:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"https://acme-corp.okta.com/oauth2/default"})," \u2192 ",(0,r.jsx)(n.code,{children:"acme-corp"})," tenant"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"https://company.auth.us-west-2.amazoncognito.com"})," \u2192 ",(0,r.jsx)(n.code,{children:"company"})," tenant"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"whitelisted-organization-tenancy",children:"Whitelisted organization tenancy"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Feldera Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pipeline-manager ... --auth-provider=<provider> --authorized_groups=feldera_qa,feldera_rnd --issuer-tenant=true --individual-tenant=false\n"})}),"\n",(0,r.jsx)(n.h3,{id:"user-group-tenancy-1",children:"User group tenancy"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Feldera Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pipeline-manager ... --auth-provider=<provider> --individual-tenant=false\n"})}),"\n",(0,r.jsx)(n.h3,{id:"user-group-tenancy-with-individual-users",children:"User group tenancy with individual users"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Feldera Configuration:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pipeline-manager ... --auth-provider=<provider> --individual-tenant=true\n"})}),"\n",(0,r.jsx)(n.h2,{id:"tenant-resolution-priority",children:"Tenant Resolution Priority"}),"\n",(0,r.jsx)(n.p,{children:"Feldera resolves tenant assignment using the following priority order:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"tenant"})," claim"]})," - Explicit tenant assignment via OIDC provider"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Issuer domain ",(0,r.jsx)(n.code,{children:"iss"})," claim"]})," (when ",(0,r.jsx)(n.code,{children:"--issuer-tenant=true"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["User ",(0,r.jsx)(n.code,{children:"sub"})," claim"]})," (when ",(0,r.jsx)(n.code,{children:"--individual-tenant=true"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["If no valid tenant is found and ",(0,r.jsx)(n.code,{children:"--individual-tenant=false"})," the user will be denied authorization."]}),"\n",(0,r.jsx)(n.h2,{id:"provider-specific-setup",children:"Provider-Specific Setup"}),"\n",(0,r.jsx)(n.p,{children:"Feldera supports the following authentication providers:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"AWS Cognito"}),"\n",(0,r.jsx)(n.li,{children:"Okta"}),"\n",(0,r.jsx)(n.li,{children:"Google Identity"}),"\n",(0,r.jsx)(n.li,{children:"Generic OIDC"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Each authentication provider requires specific configuration. Choose your provider below:"}),"\n","\n",(0,r.jsx)(s.A,{})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}}}]);