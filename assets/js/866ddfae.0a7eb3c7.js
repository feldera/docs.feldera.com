"use strict";(self.webpackChunkfeldera_docs=self.webpackChunkfeldera_docs||[]).push([[707],{28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>d});var i=t(96540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}},40634:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"get-started/enterprise/authentication","title":"Authentication","description":"This document describes how to configure authentication providers to work with Feldera.","source":"@site/docs/get-started/enterprise/authentication.md","sourceDirName":"get-started/enterprise","slug":"/get-started/enterprise/authentication","permalink":"/get-started/enterprise/authentication","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"EKS ingress","permalink":"/get-started/enterprise/kubernetes-guides/eks/ingress"},"next":{"title":"HTTPS","permalink":"/get-started/enterprise/https"}}');var o=t(74848),r=t(28453);const s={},d="Authentication",l={},c=[{value:"AWS Cognito",id:"aws-cognito",level:2},{value:"Create a Cognito User Pool",id:"create-a-cognito-user-pool",level:3},{value:"Create an App Client",id:"create-an-app-client",level:3},{value:"Configure OAuth 2.0 Settings",id:"configure-oauth-20-settings",level:3},{value:"Set Up Domain and Branding",id:"set-up-domain-and-branding",level:3},{value:"Configure Helm Chart (<code>values.yaml</code>)",id:"configure-helm-chart-valuesyaml",level:3}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"authentication",children:"Authentication"})}),"\n",(0,o.jsxs)(n.p,{children:["This document describes how to configure authentication providers to work with ",(0,o.jsx)(n.strong,{children:"Feldera"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"aws-cognito",children:"AWS Cognito"}),"\n",(0,o.jsx)(n.p,{children:"To configure AWS Cognito as an authentication provider, follow these steps:"}),"\n",(0,o.jsx)(n.h3,{id:"create-a-cognito-user-pool",children:"Create a Cognito User Pool"}),"\n",(0,o.jsx)(n.p,{children:"In the AWS Console:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Navigate to ",(0,o.jsx)(n.strong,{children:"Amazon Cognito"})," and create a new ",(0,o.jsx)(n.strong,{children:"User Pool"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Choose any settings appropriate to your organization (e.g., required user attributes, password policies)."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"create-an-app-client",children:"Create an App Client"}),"\n",(0,o.jsx)(n.p,{children:"Once the User Pool is created:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Go to the ",(0,o.jsx)(n.strong,{children:"App clients"})," section and create a new app client."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:'Select "Single-page application (SPA)"'})," as the app client type."]}),"\n",(0,o.jsxs)(n.li,{children:["In the ",(0,o.jsx)(n.strong,{children:"Return URL"})," field, add: ",(0,o.jsx)(n.code,{children:"https://<your-domain>/auth/callback/"})]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Important:"})," The trailing slash (",(0,o.jsx)(n.code,{children:"/"}),") at the end of the URL ",(0,o.jsx)(n.strong,{children:"must be included"}),". AWS Cognito requires exact URL matching, and omitting the slash may result in redirect errors."]})}),"\n",(0,o.jsx)(n.h3,{id:"configure-oauth-20-settings",children:"Configure OAuth 2.0 Settings"}),"\n",(0,o.jsxs)(n.p,{children:["In the App Client's ",(0,o.jsx)(n.strong,{children:"Login Settings"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Add ",(0,o.jsx)(n.code,{children:"https://<your-domain>/auth/callback/"})," to the ",(0,o.jsx)(n.strong,{children:"Callback URLs"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Enable the following ",(0,o.jsx)(n.strong,{children:"OAuth 2.0 grant types"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"Authorization code grant"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"Implicit grant"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Select the following ",(0,o.jsx)(n.strong,{children:"OpenID Connect scopes"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"email"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"profile"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"openid"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"set-up-domain-and-branding",children:"Set Up Domain and Branding"}),"\n",(0,o.jsxs)(n.p,{children:["Go to the ",(0,o.jsx)(n.strong,{children:"App integration \u2192 Domain name"})," section and set up a custom domain or use the AWS-hosted one (e.g., ",(0,o.jsx)(n.code,{children:"your-app.auth.us-west-1.amazoncognito.com"}),")."]}),"\n",(0,o.jsx)(n.p,{children:"This domain will be used in your login and logout URLs."}),"\n",(0,o.jsxs)(n.h3,{id:"configure-helm-chart-valuesyaml",children:["Configure Helm Chart (",(0,o.jsx)(n.code,{children:"values.yaml"}),")"]}),"\n",(0,o.jsxs)(n.p,{children:["In your Feldera Helm chart configuration (",(0,o.jsx)(n.code,{children:"values.yaml"}),"), fill out the ",(0,o.jsx)(n.code,{children:"auth"})," section with the information from the Cognito console:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'auth:\n  enabled: true\n  provider: "aws-cognito"\n  clientId: "<your-client-id>"\n  issuer: "https://cognito-idp.<region>.amazonaws.com/<user-pool-id>"\n  cognitoLoginUrl: "https://<your-domain>.auth.<region>.amazoncognito.com/login?client_id=<your-client-id>&response_type=code&scope=email+openid"\n  cognitoLogoutUrl: "https://<your-domain>.auth.<region>.amazoncognito.com/logout?client_id=<your-client-id>"\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Replace all placeholders (",(0,o.jsx)(n.code,{children:"<your-client-id>"}),", ",(0,o.jsx)(n.code,{children:"<region>"}),", ",(0,o.jsx)(n.code,{children:"<user-pool-id>"}),", ",(0,o.jsx)(n.code,{children:"<your-domain>"}),") with values from the AWS Cognito console."]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Placeholder"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<your-client-id>"})}),(0,o.jsxs)(n.td,{children:["Found under ",(0,o.jsx)(n.strong,{children:"App client information"})," in your Cognito User Pool."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<user-pool-id>"})}),(0,o.jsx)(n.td,{children:"Found in the User Pool's main page."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<region>"})}),(0,o.jsxs)(n.td,{children:["The AWS region of your User Pool (e.g., ",(0,o.jsx)(n.code,{children:"us-west-1"}),")."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<your-domain>"})}),(0,o.jsxs)(n.td,{children:["Your Cognito domain, under ",(0,o.jsx)(n.strong,{children:"Branding \u2192 Domain name"}),"."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"issuer"})}),(0,o.jsxs)(n.td,{children:["Has the form of ",(0,o.jsx)(n.code,{children:"https://cognito-idp.<region>.amazonaws.com/<user-pool-id>"}),"."]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);