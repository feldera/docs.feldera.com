<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-use_cases/fine_grained_authorization/intro" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Use Case: Fine-Grained Authorization | Feldera Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.feldera.com/use_cases/fine_grained_authorization/intro"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Use Case: Fine-Grained Authorization | Feldera Documentation"><meta data-rh="true" name="description" content="This use case demonstrates how to build a high-performance, real-time policy engine using Feldera."><meta data-rh="true" property="og:description" content="This use case demonstrates how to build a high-performance, real-time policy engine using Feldera."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.feldera.com/use_cases/fine_grained_authorization/intro"><link data-rh="true" rel="alternate" href="https://docs.feldera.com/use_cases/fine_grained_authorization/intro" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.feldera.com/use_cases/fine_grained_authorization/intro" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WX24466N8W-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Guides","item":"https://docs.feldera.com/tutorials/"},{"@type":"ListItem","position":2,"name":"Fine-Grained Authorization","item":"https://docs.feldera.com/use_cases/fine_grained_authorization/intro"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Feldera Documentation" href="/opensearch.xml">


<link rel="preconnect" href="https://us.i.posthog.com">
<script>!function(t,e){var o,s,r,a;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,n,p){function c(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(r=t.createElement("script")).type="text/javascript",r.async=!0,r.src=n.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(r,a);var g=e;for(void 0!==p?g=e[p]=[]:p="posthog",g.people=g.people||[],g.toString=function(t){var e="posthog";return"posthog"!==p&&(e+="."+p),t||(e+=" (stub)"),e},g.people.toString=function(){return g.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),s=0;s<o.length;s++)c(g,o[s]);e._i.push([i,n,p])},e.__SV=1)}(document,window.posthog||[]),posthog.init("phc_GKR68l5zo531AD1R3cnE3MCPEBPXTqgYax4q053LVBD",{api_host:"https://us.i.posthog.com",id:"default"})</script><link rel="stylesheet" href="/assets/css/styles.6b0c5225.css">
<script src="/assets/js/runtime~main.2a23de74.js" defer="defer"></script>
<script src="/assets/js/main.961dcc6b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.feldera.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/logo-color-dark.svg" alt="Feldera Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo-color-light.svg" alt="Feldera Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/get-started">Get Started</a><a class="navbar__item navbar__link" href="/sql">SQL Reference</a><a class="navbar__item navbar__link" href="/connectors">Connectors</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://join.slack.com/t/felderacommunity/shared_invite/zt-222bq930h-dgsu5IEzAihHg8nQt~dHzA" target="_blank" rel="noopener noreferrer" class="dropdown__link">Slack<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://discord.com/invite/s6t5n9UzHE" target="_blank" rel="noopener noreferrer" class="dropdown__link">Discord<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/feldera/feldera" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">What is Feldera?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/architecture/enterprise">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/get-started/">Install Feldera</a><button aria-label="Expand sidebar category &#x27;Install Feldera&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/tutorials/">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/tutorials/basics/">Feldera Basics</a><button aria-label="Expand sidebar category &#x27;Feldera Basics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/use_cases/batch/intro">Accelerating Batch Analytics</a><button aria-label="Expand sidebar category &#x27;Accelerating Batch Analytics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/use_cases/fraud_detection/">Real-time Fraud Detection</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/use_cases/real_time_apps/part1">Real-time Web Applications</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/time-series">Time Series Analysis with Feldera</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/use_cases/fine_grained_authorization/intro">Fine-Grained Authorization</a><button aria-label="Collapse sidebar category &#x27;Fine-Grained Authorization&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/use_cases/fine_grained_authorization/static">Implementing a static FGA model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/use_cases/fine_grained_authorization/dynamic">Implementing a dynamic FGA model</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/use_cases/otel/intro">OpenTelemetry Analysis</a><button aria-label="Expand sidebar category &#x27;OpenTelemetry Analysis&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/rest_api/">Using the REST API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/monitoring/">Monitoring and Profiling</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/interface/">Feldera Interface</a><button aria-label="Collapse sidebar category &#x27;Feldera Interface&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interface/web-console">Web Console</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interface/cli">Command line tool (fda)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="/python/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">Python SDK<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="/api" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">REST API<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/pipelines/">Pipelines</a><button aria-label="Collapse sidebar category &#x27;Pipelines&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/sql/">Feldera SQL</a><button aria-label="Expand sidebar category &#x27;Feldera SQL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/connectors/">Connectors</a><button aria-label="Expand sidebar category &#x27;Connectors&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/formats/">Formats</a><button aria-label="Expand sidebar category &#x27;Formats&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/configuration">Settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/fault-tolerance">Fault tolerance and suspend/resume</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pipelines/checkpoint-sync">Synchronizing checkpoints to object store</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/operations/guide">Feldera Operations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/literature/papers">Literature</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/changelog">Changelog</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/tutorials/"><span>Guides</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Fine-Grained Authorization</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Use Case: Fine-Grained Authorization</h1></header>
<p>This use case demonstrates how to build a high-performance, real-time <strong>policy engine</strong> using Feldera.
A policy engine enforces access control <strong>rules</strong> that determine which actions users can perform on various
resources, and under which conditions.
We focus on a family of access control models called <strong>Fine-Grained-Authorization</strong> (FGA) models, which were
first popularized by Google&#x27;s <a href="https://research.google/pubs/zanzibar-googles-consistent-global-authorization-system/" target="_blank" rel="noopener noreferrer">Zanzibar</a>
system.</p>
<p><strong>We demonstrate how Feldera&#x27;s best-in-class support for incremental computation and mutually recursive SQL queries
enables users to implement complex authorization policies with only a few lines of SQL, and to
handle authorization queries efficiently and consistently at scale.</strong></p>
<p>This guide is designed for the following audiences:</p>
<ul>
<li>
<p><strong>Application developers seeking to add an efficient authorization layer to their applications.</strong>
Example: You’re building a collaborative wiki platform, and need a robust access control layer.
By defining a declarative access control policy as a set of rules, you can use Feldera to evaluate these rules across millions of
objects and thousands of users cost-effectively.</p>
</li>
<li>
<p><strong>Policy engine developers looking to scale their compute layer.</strong>
Example: You’re developing your own FGA engine, similar to <a href="https://openfga.dev/" target="_blank" rel="noopener noreferrer">OpenFGA</a>, and need a query
engine that can efficiently evaluate complex rule sets over large dynamic object graphs.</p>
</li>
</ul>
<p>In this guide, we will:</p>
<ul>
<li><a href="#fga-basics">Introduce the basics of FGA</a></li>
<li>Discuss how FGA benefits from <a href="#fga-as-an-incremental-computation-problem">incremental computation</a>
and <a href="#fga-and-recursion">mutually recursive SQL queries</a>.</li>
<li>Build two types of FGA engines using Feldera:<!-- -->
<ol>
<li><a href="/use_cases/fine_grained_authorization/static">Static FGA Engine</a>: Implements a fixed set of access control rules,
suitable for enforcing a predefined authorization policy created by application developers.</li>
<li><a href="/use_cases/fine_grained_authorization/dynamic">Dynamic FGA Engine</a>: Supports a dynamically evolving set of rules,
ideal for configurable policies where both system objects and authorization rules can change at runtime.</li>
</ol>
</li>
</ul>
<p>By the end of this guide, you will have a clear understanding of how to leverage Feldera to build scalable and
efficient policy engines.</p>
<p>You can watch the video accompanying this series on Youtube:</p>
<link rel="preload" href="https://i.ytimg.com/vi/vpVAZbaZ2Hg/hqdefault.jpg" as="image"><article class="yt-lite" style="background-image:url(https://i.ytimg.com/vi/vpVAZbaZ2Hg/hqdefault.jpg);--aspect-ratio:56.25%"><button type="button" class="lty-playbtn" aria-label="Watch undefined"></button></article>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fga-basics">FGA basics<a href="#fga-basics" class="hash-link" aria-label="Direct link to FGA basics" title="Direct link to FGA basics">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="object-graph">Object graph<a href="#object-graph" class="hash-link" aria-label="Direct link to Object graph" title="Direct link to Object graph">​</a></h3>
<p>An FGA policy is defined over an <strong>object graph</strong>, where nodes represent system objects such as users,
documents, bank accounts, shopping carts, etc. The edges in this graph capture the <strong>relationships</strong>
between these objects, such as <code>parent</code>, <code>owner</code>, <code>member</code>, etc. The specific types of objects and relationships
vary depending on the application’s requirements, allowing developers to implement application-specific
authorization policies.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-shared-file-manager">Example: shared file manager<a href="#example-shared-file-manager" class="hash-link" aria-label="Direct link to Example: shared file manager" title="Direct link to Example: shared file manager">​</a></h4>
<p>We will use a simple shared file management service as a running example throughout this guide.
This application works with three types of objects:</p>
<ul>
<li><strong>Users</strong> represent individual users of the service.</li>
<li><strong>User groups</strong> group users with similar permissions.</li>
<li><strong>Files and folders</strong>. For simplicity, we model files and folders using a single object type. A folder
is simply a file that has one or more children.</li>
</ul>
<p>Objects are connected by the following relationships:</p>
<ul>
<li><code>member</code> - a relationship between a user and a group.</li>
<li><code>parent</code> - a relationship between files that defines the folder hierarchy.</li>
<li><code>editor</code> - a relationship between a group and a file that gives the group the permission to read or write the file.</li>
<li><code>viewer</code> - a relationship between a group and a file that gives the group the permission to read the file.</li>
</ul>
<p>We use <code>relationship(object1, object2)</code> notation for relationships, e.g., <code>member(alice, engineering)</code>, <code>parent(folder1, file1)</code>,
<code>editor(admins, folder1)</code>, etc.</p>
<p>Here is an example object graph that shows several users, groups, and files.  Note that objects can have
<strong>attributes</strong>, e.g., <code>is_banned</code>.</p>
<a id="example-object-graph"></a>
<p><img decoding="async" loading="lazy" alt="Object graph" src="/assets/images/object-graph-32f11e8500f5d86a66406d3f5d66b2c4.png" width="2339" height="1581" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rules">Rules<a href="#rules" class="hash-link" aria-label="Direct link to Rules" title="Direct link to Rules">​</a></h3>
<p>An FGA policy consists of rules that derive new relationships from the object graph.  A rule consists
of <strong>prerequisites</strong> that must hold for the rule to fire and the <strong>derived clause</strong> that holds if the prerequisites
are satisfied. The language of valid rules depends on a specific FGA implementation. In this tutorial we
consider two most common types of rules:</p>
<ol>
<li>Rules with one prerequisite:</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">relationship1(object1, object2) and condition(object1, object2) -&gt; relationship2(object1, object2)</span><br></span></code></pre></div></div>
<p>where <code>condition</code> is an arbitrary predicate over atributes of <code>object1</code> and <code>object2</code>.  This rule states
that if there exists relationship <code>relationship1</code> between <code>object1</code> and <code>object2</code>, which satisfy <code>condition</code>,
then <code>object1</code> and <code>object2</code> are related by <code>relationship2</code>.</p>
<ol start="2">
<li>Rules with two prerequisites:</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">relationship1(object1, object2) and relationship2(object2, object3) and condition(object1, object3) -&gt; relationship3(object1, object3)</span><br></span></code></pre></div></div>
<p>More complex rules, e.g., rules with more than two prerequisites or rules with arbitrary combinations of <code>and</code> and <code>or</code>
operators, can be decomposed into these two basic types. Some FGA implementations allow negative prerequisites of the
form <code>not relationship1(object1, object2)</code>. Such rules can be expressed in Feldera, but we leave them out for simplicity.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>We define the following derived relationships in our file manager example:</p>
<ul>
<li><code>group-can-read(group, file)</code> - <code>group</code> is allowed to read <code>file</code>.</li>
<li><code>group-can-write(group, file)</code> - <code>group</code> is allowed to write <code>file</code>.</li>
<li><code>user-can-read(user, file)</code> - <code>user</code> is allowed to read <code>file</code>.</li>
<li><code>user-can-write(user, file)</code> - <code>user</code> is allowed to write <code>file</code>.</li>
</ul>
<p>These relationships are governed by the following rules:</p>
<ul>
<li><strong>Rule 1:</strong> <code>editor(group, file) -&gt; group-can-write(group, file)</code> - if a group is an editor of a file, it can write this file.</li>
<li><strong>Rule 2:</strong> <code>group-can-write(group, file1) and parent(file1, file2) -&gt; group-can-write(group, file2)</code> - if a group can write
a file, then it can write any of its children.</li>
<li><strong>Rule 3:</strong> <code>viewer(group, file) -&gt; group-can-read(group, file)</code> - if a group is a viewer of a file, then it can read this file.</li>
<li><strong>Rule 4:</strong> <code>group-can-write(group, file) -&gt; group-can-read(group, file)</code> - the write permission to a file implies the read
permission to the same file.</li>
<li><strong>Rule 5:</strong> <code>group-can-read(group, file1) and parent(file1, file2) -&gt; group-can-read(group, file2)</code> - if a group can read a file,
then it can read any of its children.</li>
<li><strong>Rule 6:</strong> <code>member(user, group) and group-can-write(group, file) and (not user.is_banned) -&gt; user-can-write(user, file)</code> - if a user is a member
of a group that can write a file and the user is not banned, then the user can write the file.</li>
<li><strong>Rule 7:</strong> <code>member(user, group) and group-can-read(group, file) and (not user.is_banned) -&gt; user-can-read(user, file)</code> - if a user is a member
of a group that can read a file and the user is not banned, then the user can read the file.</li>
</ul>
<p>Given these rules, we can derive the following access permissions to file <code>f1</code> from the example object graph above:</p>
<ul>
<li><code>group-can-write(engineering, f1)</code></li>
<li><code>group-can-write(it, f1)</code></li>
<li><code>group-can-read(engineering, f1)</code></li>
<li><code>group-can-read(it, f1)</code></li>
<li><code>group-can-read(accounting, f1)</code></li>
<li><code>user-can-write(emily, f1)</code></li>
<li><code>user-can-read(emily, f1)</code></li>
<li><code>user-can-write(irene, f1)</code></li>
<li><code>user-can-read(irene, f1)</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="fga-system-architecture">FGA system architecture<a href="#fga-system-architecture" class="hash-link" aria-label="Direct link to FGA system architecture" title="Direct link to FGA system architecture">​</a></h3>
<p>At runtime, the FGA engine is invoked to validate every API request from a client, ensuring that the user making
the request has the required permissions. This validation is performed by evaluating the FGA rules against the
object graph. The graph, maintained by the application, evolves in real-time as objects and relationships are added,
removed, and modified.</p>
<p><img decoding="async" loading="lazy" alt="FGA system architecture" src="/assets/images/fga-architecture-e131f794c34e775598536e5194861606.png" width="1859" height="763" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fga-as-an-incremental-computation-problem">FGA as an incremental computation problem<a href="#fga-as-an-incremental-computation-problem" class="hash-link" aria-label="Direct link to FGA as an incremental computation problem" title="Direct link to FGA as an incremental computation problem">​</a></h2>
<p>Building an efficient FGA engine is a challenging task.
In large-scale applications, the engine may need to process thousands of authorization requests
per second, over a massive object graph. Each request can require an expensive graph traversal.
The dynamic nature of the graph makes it hard to cache authorization decisions without compromising consistency.</p>
<p><strong>Incremental computation offers an elegant solution to this challenge.</strong> Instead of evaluating authorization
decisions from scratch for every request, the idea is to precompute all authorization decisions in advance
and store them in a key-value store, reducing runtime authorization checks to simple, efficient lookups.
As the object graph evolves, incremental computation ensures that only rule derivations affected by the
change are updated, avoiding full recomputation.  <strong>An efficient incremental query engine like Feldera can
update the computation within milliseconds after the object graph changes even for very large graphs,
making sure that runtime authorization checks reflect the current state of the system.</strong></p>
<p><img decoding="async" loading="lazy" alt="FGA architecture using an incremental policy engine" src="/assets/images/fga-architecture-incremental-f29c81634e955ec7e730da5d7e042d67.png" width="1861" height="989" class="img_ev3q"></p>
<p>Precomputing all authorization decisions is often impractical in real-world scenarios, because there can be too
many of them. In a system with 1 million users and 1 million public objects, the policy engine could derive
10^12 <code>user-can-read</code> relationships.  We thefore need to optimize the computation to prevent such a blow-up.
We will discuss some relevant optimizations <a href="/use_cases/fine_grained_authorization/dynamic#optimizations">below</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fga-and-recursion">FGA and recursion<a href="#fga-and-recursion" class="hash-link" aria-label="Direct link to FGA and recursion" title="Direct link to FGA and recursion">​</a></h2>
<p>The FGA engine must perform iterative graph traversal, where, at each step, it evaluates FGA
rules to derive new relationships based on previously discovered ones.  In the file manager
example, the engine iteratively traverses the folder hierarchy to determine all files that
are readable or writable by each user group.</p>
<p>Expressing such iterative computations in standard SQL is not possible without support for recursive
queries. While many modern SQL dialects offer recursive CTEs, their capabilities are limited. Most
notably, they do not support multiple mutually recursive views, which are essential for evaluating more
complex authorization rules.</p>
<p>An incremental FGA engine must go a step further by updating recursive computations dynamically as
the object graph changes, placing the problem far beyond the capabilities of most query engines.</p>
<p><strong>Feldera addresses these challenges by offering support for incremental evaluation of arbitrary SQL
programs, including programs with <a href="/sql/recursion">mutually recursive views</a>.</strong>
In the following sections we will see how this unique capability allows it to handle complex, iterative
computations efficiently while keeping up with real-time changes to the object graph.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tutorials/time-series"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Time Series Analysis with Feldera</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/use_cases/fine_grained_authorization/static"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Implementing a static FGA model</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#fga-basics" class="table-of-contents__link toc-highlight">FGA basics</a><ul><li><a href="#object-graph" class="table-of-contents__link toc-highlight">Object graph</a></li><li><a href="#rules" class="table-of-contents__link toc-highlight">Rules</a></li><li><a href="#fga-system-architecture" class="table-of-contents__link toc-highlight">FGA system architecture</a></li></ul></li><li><a href="#fga-as-an-incremental-computation-problem" class="table-of-contents__link toc-highlight">FGA as an incremental computation problem</a></li><li><a href="#fga-and-recursion" class="table-of-contents__link toc-highlight">FGA and recursion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/get-started">Get Started</a></li><li class="footer__item"><a class="footer__link-item" href="/tutorials/basics/part1">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/sql/intro">SQL Reference</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/felderacommunity/shared_invite/zt-222bq930h-dgsu5IEzAihHg8nQt~dHzA" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/s6t5n9UzHE" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bsky.app/profile/feldera.bsky.social" target="_blank" rel="noopener noreferrer" class="footer__link-item">Bluesky<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/feldera/feldera" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Feldera Inc.</div></div></div></footer></div>
</body>
</html>